{"version":3,"sources":["redux/actions/messageAction.js","images/loading.gif","components/Avatar.js","redux/actions/profileAction.js","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","images/notice.png","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","redux/actions/suggestionsAction.js","audio/got-it-done-613.mp3","SocketClient.js","audio/ringring.mp3","components/message/CallModal.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/onlineReducer.js","redux/reducers/callReducer.js","redux/reducers/index.js","redux/store.js","index.js","utils/mediaShow.js","components/UserCard.js","utils/imageUpload.js","components/LoadMoreBtn.js","utils/valid.js","redux/actions/authAction.js","redux/actions/discoverAction.js","redux/actions/globalTypes.js","components/PostThumb.js","components/Icons.js","pages/message/index.js","pages/login.js","pages/register.js","components/home/Status.js","components/home/Posts.js","pages/home.js","components/message/LeftSide.js","utils/config.js","components/home/post_card/CardHeader.js","components/Carousel.js","components/home/post_card/CardBody.js","images/send.svg","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","components/home/comments/CommentMenu.js","redux/actions/commentAction.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js","utils/fetchData.js","pages/discover.js","redux/actions/postAction.js","pages/post/[id].js","redux/actions/notifyAction.js","components/profile/EditProfile.js","components/FollowBtn.js","components/profile/Followers.js","components/profile/Following.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/Times.js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","pages sync /^/.*$"],"names":["MESS_TYPES","ADD_USER","ADD_MESSAGE","GET_CONVERSATIONS","GET_MESSAGES","UPDATE_MESSAGES","DELETE_MESSAGES","DELETE_CONVERSATION","CHECK_ONLINE_OFFLINE","addMessage","_ref","msg","auth","socket","async","dispatch","type","payload","_id","avatar","fullname","username","user","emit","_objectSpread","postDataAPI","token","err","GLOBALTYPES","ALERT","error","response","data","getConversations","_ref2","page","res","getDataAPI","concat","newArr","conversations","forEach","item","recipients","cv","push","text","media","call","result","getMessages","_ref3","id","newData","messages","reverse","loadMoreMessages","_ref4","deleteMessages","_ref5","DeleteData","recipient","deleteDataAPI","deleteConversation","_ref6","Avatar","src","size","theme","useSelector","state","_jsx","alt","className","style","filter","PROFILE_TYPES","LOADING","GET_USER","FOLLOW","UNFOLLOW","GET_ID","GET_POSTS","UPDATE_POST","getProfileUsers","res1","users","posts","updateProfileUser","userData","length","story","loading","imageUpload","patchDataAPI","url","AUTH","success","follow","newUser","every","followers","following","createNotify","unfollow","removeNotify","NotFound","minHeight","children","top","left","transform","generatePage","pageName","React","createElement","require","default","PageRender","useParams","PrivateRouter","props","localStorage","getItem","Route","Redirect","to","Loading","background","color","zIndex","_jsxs","width","height","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","handleShow","bgColor","right","minWidth","title","outline","onClick","body","Notify","alert","useDispatch","NotifyModal","notify","handleSound","NOTIFY_TYPES","UPDATE_SOUND","sound","fontSize","cursor","maxHeight","overflow","map","index","Link","isReadNotify","handleIsRead","content","slice","image","match","moment","createdAt","fromNow","isRead","handleDeleteAll","window","confirm","deleteAllNotifies","Menu","pathname","useLocation","isActive","pn","label","icon","path","link","opacity","role","htmlFor","THEME","logout","Search","search","setSearch","useState","setUsers","load","setLoad","handleClose","onSubmit","e","preventDefault","name","value","onChange","target","toLowerCase","replace","display","LoadIcon","UserCard","border","Header","scrollTo","StatusModal","status","setContent","images","setImages","stream","setStream","videoRef","useRef","refCanvas","tracks","setTracks","useEffect","onEdit","updatePost","createPost","stop","STATUS","placeholder","Icons","img","camera","imageShow","_Fragment","videoShow","URL","createObjectURL","splice","deleteImages","autoPlay","muted","ref","handleStopStream","handleCapture","current","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","handleStream","navigator","mediaDevices","getUserMedia","video","then","mediaStream","srcObject","play","track","getTracks","catch","console","log","multiple","accept","files","newImages","file","SUGGES_TYPES","SocketClient","online","audioRef","on","newPost","POST_TYPES","off","spawnNotification","CREATE_NOTIFY","Notification","onclick","open","REMOVE_NOTIFY","includes","ONLINE","OFFLINE","CALL","controls","audiobell","CallModal","peer","hours","setHours","mins","setMins","second","setSecond","total","setTotal","answer","setAnswer","youVideo","otherVideo","newCall","setNewCall","setTime","t","setTimeout","parseInt","addCallMessage","useCallback","times","disconnect","sender","Date","toISOString","handleEndCall","close","timer","clearTimeout","openStream","config","audio","playStream","tag","handleAnswer","peerId","remoteStream","removeListener","pauseAudio","newAudio","pause","currentTime","Audio","RingRing","playAudio","padding","toString","playsInline","App","modal","refreshToken","io","SOCKET","getPosts","getNotifies","permission","requestPermission","Router","Alert","exact","component","Home","Login","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","arguments","undefined","action","alertReducer","themeReducer","ids","profileReducer","EditData","statusReducer","postReducer","CREATE_POST","LOADING_POST","DELETE_POST","modalReducer","MODAL","detailPostReducer","GET_POST","firstLoad","discoverReducer","DISCOVER_TYPES","suggestionsReducer","socketReducer","notifyReducer","GET_NOTIFIES","UPDATE_NOTIFY","DELETE_ALL_NOTIFIES","resultUsers","messageReducer","onlineReducer","callReducer","combineReducers","profile","homePosts","detailPost","discover","suggestions","message","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","Provider","ReactDOM","render","StrictMode","document","getElementById","setShowFollowers","setShowFollowing","handleCloseAll","showMsg","checkImage","allowedExtensions","blockedExtensions","i","fileExtension","split","pop","imgArr","formData","FormData","append","fetch","method","json","public_id","secure_url","LoadMoreBtn","handleLoadMore","valid","email","password","cf_password","test","validateEmail","errMsg","errLength","Object","keys","login","access_token","setItem","register","check","removeItem","location","href","getDiscoverPosts","post","PostThumb","likes","comments","Message","LeftSide","setUserData","typePass","setTypePass","history","useHistory","handleChangeInput","disabled","gender","typeCfPass","setTypeCfPass","defaultChecked","Status","Posts","PostCard","scroll","addEventListener","pageYOffset","behavior","searchUsers","setSearchUsers","pageEnd","setPage","handleAddUser","IntersectionObserver","entries","isIntersecting","p","threshold","observe","find","BASE_URL","CardHeader","handleEditPost","handleDeletePost","deletePost","handleCopyLink","clipboard","writeText","Carousel","CardBody","readMore","setReadMore","LikeButton","isLike","handleLike","handleUnLike","ShareModal","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","CardFooter","setIsLike","loadLike","setLoadLike","isShare","setIsShare","saved","setSaved","saveLoad","setSaveLoad","like","likePost","unLikePost","Send","unSavePost","savePost","CommentMenu","comment","setOnEdit","handleRemove","deleteArr","cm","reply","da","deleteComment","MenuItem","InputComment","onReply","setOnReply","trim","newComment","commentId","postId","postUserId","createComment","CommentCard","styleCard","pointerEvents","rows","handleUpdate","newComments","updateComment","handleReply","likeComment","unLikeComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newRep","axios","get","headers","Authorization","patch","delete","Discover","imgNewUrl","imgOldUrl","getPost","_ref7","_ref8","Post","setPost","notifies","EditProfile","mobile","address","website","setAvatar","handleInput","cols","FollowBtn","followed","setFollowed","Followers","Following","Info","showFollowers","showFollowing","rel","setPosts","setResult","Saved","savePosts","setSavePosts","Profile","saveTab","setSaveTab","Times","MsgDisplay","handleDeleteMessages","borderRadius","toLocaleTimeString","toLocaleString","RightSide","setUser","setText","setMedia","loadMedia","setLoadMedia","refDisplay","setData","isLoadMore","setIsLoadMore","scrollIntoView","block","getMessagesData","caller","callUser","handleAudioCall","handleVideoCall","handleDeleteConversation","marginTop","handleDeleteMedia","newMedia","Conversation","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","resolve","module","exports"],"mappings":"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","file":"static/js/main.749b0d4b.chunk.js","sourcesContent":["import { GLOBALTYPES, DeleteData } from '../actions/globalTypes'\nimport { postDataAPI, getDataAPI, deleteDataAPI } from '../../utils/fetchData'\n\nexport const MESS_TYPES = {\n    ADD_USER: 'ADD_USER',\n    ADD_MESSAGE: 'ADD_MESSAGE',\n    GET_CONVERSATIONS: 'GET_CONVERSATIONS',\n    GET_MESSAGES: 'GET_MESSAGES',\n    UPDATE_MESSAGES: 'UPDATE_MESSAGES',\n    DELETE_MESSAGES: 'DELETE_MESSAGES',\n    DELETE_CONVERSATION: 'DELETE_CONVERSATION',\n    CHECK_ONLINE_OFFLINE: 'CHECK_ONLINE_OFFLINE'\n}\n\n\n\nexport const addMessage = ({msg, auth, socket}) => async (dispatch) =>{\n    dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\n\n    const { _id, avatar, fullname, username } = auth.user\n    socket.emit('addMessage', {...msg, user: { _id, avatar, fullname, username } })\n    \n    try {\n        await postDataAPI('message', msg, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getConversations = ({auth, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token)\n        \n        let newArr = [];\n        res.data.conversations.forEach(item => {\n            item.recipients.forEach(cv => {\n                if(cv._id !== auth.user._id){\n                    newArr.push({...cv, text: item.text, media: item.media, call: item.call})\n                }\n            })\n        })\n\n        dispatch({\n            type: MESS_TYPES.GET_CONVERSATIONS, \n            payload: {newArr, result: res.data.result}\n        })\n\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getMessages = ({auth, id, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, messages: res.data.messages.reverse()}\n\n        dispatch({type: MESS_TYPES.GET_MESSAGES, payload: {...newData, _id: id, page}})\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const loadMoreMessages = ({auth, id, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, messages: res.data.messages.reverse()}\n\n        dispatch({type: MESS_TYPES.UPDATE_MESSAGES, payload: {...newData, _id: id, page}})\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteMessages = ({msg, data, auth}) => async (dispatch) => {\n    const newData = DeleteData(data, msg._id)\n    dispatch({type: MESS_TYPES.DELETE_MESSAGES, payload: {newData, _id: msg.recipient}})\n    try {\n        await deleteDataAPI(`message/${msg._id}`, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteConversation = ({auth, id}) => async (dispatch) => {\n    dispatch({type: MESS_TYPES.DELETE_CONVERSATION, payload: id})\n    try {\n        await deleteDataAPI(`conversation/${id}`, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Avatar = ({src, size}) => {\n    const { theme } = useSelector(state => state)\n\n    return (\n        <img src={src} alt=\"avatar\" className={size}\n        style={{filter: `${theme ? 'invert(1)' : 'invert(0)'}`}} />\n    )\n}\n\nexport default Avatar\n","import { GLOBALTYPES, DeleteData } from './globalTypes'\nimport { getDataAPI, patchDataAPI } from '../../utils/fetchData'\nimport { imageUpload } from '../../utils/imageUpload'\nimport { createNotify, removeNotify } from '../actions/notifyAction'\n\n\nexport const PROFILE_TYPES = {\n    LOADING: 'LOADING_PROFILE',\n    GET_USER: 'GET_PROFILE_USER',\n    FOLLOW: 'FOLLOW',\n    UNFOLLOW: 'UNFOLLOW',\n    GET_ID: 'GET_PROFILE_ID',\n    GET_POSTS: 'GET_PROFILE_POSTS',\n    UPDATE_POST: 'UPDATE_PROFILE_POST'\n}\n\n\nexport const getProfileUsers = ({id, auth}) => async (dispatch) => {\n    dispatch({type: PROFILE_TYPES.GET_ID, payload: id})\n\n    try {\n        dispatch({type: PROFILE_TYPES.LOADING, payload: true})\n        const res = getDataAPI(`/user/${id}`, auth.token)\n        const res1 = getDataAPI(`/user_posts/${id}`, auth.token)\n        \n        const users = await res;\n        const posts = await res1;\n\n        dispatch({\n            type: PROFILE_TYPES.GET_USER,\n            payload: users.data\n        })\n\n        dispatch({\n            type: PROFILE_TYPES.GET_POSTS,\n            payload: {...posts.data, _id: id, page: 2}\n        })\n\n        dispatch({type: PROFILE_TYPES.LOADING, payload: false})\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n    \n}\n\n\nexport const updateProfileUser = ({userData, avatar, auth}) => async (dispatch) => {\n    if(!userData.fullname)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Please add your full name.\"}})\n\n    if(userData.fullname.length > 25)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your full name too long.\"}})\n\n    if(userData.story.length > 200)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your story too long.\"}})\n\n    try {\n        let media;\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\n\n        if(avatar) media = await imageUpload([avatar])\n\n        const res = await patchDataAPI(\"user\", {\n            ...userData,\n            avatar: avatar ? media[0].url : auth.user.avatar\n        }, auth.token)\n\n        dispatch({\n            type: GLOBALTYPES.AUTH,\n            payload: {\n                ...auth,\n                user: {\n                    ...auth.user, ...userData,\n                    avatar: avatar ? media[0].url : auth.user.avatar,\n                }\n            }\n        })\n\n        dispatch({type: GLOBALTYPES.ALERT, payload: {success: res.data.msg}})\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const follow = ({users, user, auth, socket}) => async (dispatch) => {\n    let newUser;\n    \n    if(users.every(item => item._id !== user._id)){\n        newUser = {...user, followers: [...user.followers, auth.user]}\n    }else{\n        users.forEach(item => {\n            if(item._id === user._id){\n                newUser = {...item, followers: [...item.followers, auth.user]}\n            }\n        })\n    }\n\n    dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser })\n\n    dispatch({\n        type: GLOBALTYPES.AUTH, \n        payload: {\n            ...auth,\n            user: {...auth.user, following: [...auth.user.following, newUser]}\n        }\n    })\n\n\n    try {\n        const res = await patchDataAPI(`user/${user._id}/follow`, null, auth.token)\n        socket.emit('follow', res.data.newUser)\n\n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'has started to follow you.',\n            recipients: [newUser._id],\n            url: `/profile/${auth.user._id}`,\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const unfollow = ({users, user, auth, socket}) => async (dispatch) => {\n\n    let newUser;\n\n    if(users.every(item => item._id !== user._id)){\n        newUser = {...user, followers: DeleteData(user.followers, auth.user._id)}\n    }else{\n        users.forEach(item => {\n            if(item._id === user._id){\n                newUser = {...item, followers: DeleteData(item.followers, auth.user._id)}\n            }\n        })\n    }\n\n    dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser })\n\n    dispatch({\n        type: GLOBALTYPES.AUTH, \n        payload: {\n            ...auth,\n            user: { \n                ...auth.user, \n                following: DeleteData(auth.user.following, newUser._id) \n            }\n        }\n    })\n   \n\n    try {\n        const res = await patchDataAPI(`user/${user._id}/unfollow`, null, auth.token)\n        socket.emit('unFollow', res.data.newUser)\n\n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'has started to follow you.',\n            recipients: [newUser._id],\n            url: `/profile/${auth.user._id}`,\n        }\n\n        dispatch(removeNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n}","import React from 'react'\n\nconst NotFound = () => {\n    return (\n        <div className=\"position-relative\" style={{minHeight: 'calc(100vh - 70px)'}}>\n            <h2 className=\"position-absolute text-secondary\"\n            style={{top: '50%', left: '50%', transform: 'translate(-50%, -50%)'}}>\n                404 | Not Found.\n            </h2>\n        </div>\n    )\n}\n\nexport default NotFound\n","import React from 'react'\nimport {useParams} from 'react-router-dom'\nimport NotFound from '../components/NotFound'\nimport { useSelector } from 'react-redux'\n\nconst generatePage = (pageName) => {\n    const component = () => require(`../pages/${pageName}`).default\n\n    try {\n        return React.createElement(component())\n    } catch (err) {\n        return <NotFound />\n    }\n}\n\nconst PageRender = () => {\n    const {page, id} = useParams()\n    const { auth } = useSelector(state => state)\n\n    let pageName = \"\";\n\n    if(auth.token){\n        if(id){\n            pageName = `${page}/[id]`\n        }else{\n            pageName = `${page}`\n        }\n    }\n\n    return generatePage(pageName)\n}\n\nexport default PageRender\n","import { Route, Redirect} from 'react-router-dom'\n\nconst PrivateRouter = (props) => {\n    const firstLogin = localStorage.getItem('firstLogin')\n    return firstLogin ? <Route {...props} /> : <Redirect to=\"/\" />\n}\n\nexport default PrivateRouter\n","import React from 'react'\n\nconst Loading = () => {\n    return (\n        <div className=\"position-fixed w-100 h-100 text-center loading\"\n        style={{background: \"#0008\", color: \"white\", top: 0, left: 0, zIndex: 50}}>\n\n            <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\n                <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\n                points=\"20,1 40,40 1,40\" />\n                <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\n            </svg>\n            \n        </div>\n    )\n}\n\nexport default Loading\n","import React from 'react'\n\nconst Toast = ({msg, handleShow, bgColor}) => {\n    return (\n        <div className={`toast show position-fixed text-light ${bgColor}`}\n        style={{top: '5px', right: '5px', minWidth: '200px', zIndex: 50}}>\n            <div className={`toast-header text-light ${bgColor}`}>\n                <strong className=\"mr-auto text-light\">{msg.title}</strong>\n                <button className=\"ml-2 mb-1 close text-light\"\n                data-dismiss=\"toast\" style={{outline: 'none'}}\n                onClick={handleShow}>\n                    &times;\n                </button>\n            </div>\n            <div className=\"toast-body\">\n                {msg.body}\n            </div>\n        </div>\n    )\n}\n\nexport default Toast\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nimport Loading from './Loading'\nimport Toast from './Toast'\n\nconst Notify = () => {\n    const { alert } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    return (\n        <div>\n            {alert.loading && <Loading />}\n\n            {\n                alert.error && \n                <Toast msg={{title: 'Error', body: alert.error}}\n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})} \n                bgColor=\"bg-danger\" />\n            }\n\n            {\n                alert.success && \n                <Toast msg={{title: 'Success', body: alert.success}} \n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})}\n                bgColor=\"bg-success\" />\n            }\n        </div>\n    )\n}\n\nexport default Notify\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport NoNotice from '../images/notice.png'\nimport { Link } from 'react-router-dom'\nimport Avatar from './Avatar'\nimport moment from 'moment'\nimport { isReadNotify, NOTIFY_TYPES, deleteAllNotifies } from '../redux/actions/notifyAction'\n\nconst NotifyModal = () => {\n    const { auth, notify } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleIsRead = (msg) => {\n        dispatch(isReadNotify({msg, auth}))\n    }\n\n    const handleSound = () => {\n        dispatch({type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound})\n    }\n\n    const handleDeleteAll = () => {\n        const newArr = notify.data.filter(item => item.isRead === false)\n        if(newArr.length === 0) return dispatch(deleteAllNotifies(auth.token))\n\n        if(window.confirm(`You have ${newArr.length} unread notices. Are you sure you want to delete all?`)){\n            return dispatch(deleteAllNotifies(auth.token))\n        }\n    }\n\n    return (\n        <div style={{minWidth: '300px'}}>\n            <div className=\"d-flex justify-content-between align-items-center px-3\">\n                <h3>Notification</h3>\n                {\n                    notify.sound \n                    ? <i className=\"fas fa-bell text-danger\" \n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\n                    onClick={handleSound} />\n\n                    : <i className=\"fas fa-bell-slash text-danger\"\n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\n                    onClick={handleSound} />\n                }\n            </div>\n            <hr className=\"mt-0\" />\n\n            {\n                notify.data.length === 0 &&\n                <img src={NoNotice} alt=\"NoNotice\" className=\"w-100\" />\n            }\n\n            <div style={{maxHeight: 'calc(100vh - 200px)', overflow: 'auto'}}>\n                {\n                    notify.data.map((msg, index) => (\n                        <div key={index} className=\"px-2 mb-3\" >\n                            <Link to={`${msg.url}`} className=\"d-flex text-dark align-items-center\"\n                            onClick={() => handleIsRead(msg)}>\n                                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\n\n                                <div className=\"mx-1 flex-fill\">\n                                    <div>\n                                        <strong className=\"mr-1\">{msg.user.username}</strong>\n                                        <span>{msg.text}</span>\n                                    </div>\n                                    {msg.content && <small>{msg.content.slice(0,20)}...</small>}\n                                </div>\n\n                                {\n                                    msg.image &&\n                                    <div style={{width: '30px'}}>\n                                        {\n                                            msg.image.match(/video/i)\n                                            ? <video src={msg.image} width=\"100%\" />\n                                            : <Avatar src={msg.image} size=\"medium-avatar\" />\n                                        }\n                                    </div>\n                                }\n                                \n                            </Link>\n                            <small className=\"text-muted d-flex justify-content-between px-2\">\n                                {moment(msg.createdAt).fromNow()}\n                                {\n                                    !msg.isRead && <i className=\"fas fa-circle text-primary\" />\n                                }\n                            </small>\n                        </div>\n                    ))\n                }\n\n            </div>\n\n            <hr className=\"my-1\" />\n            <div className=\"text-right text-danger mr-2\" style={{cursor: 'pointer'}}\n            onClick={handleDeleteAll}>\n                Delete All\n            </div>\n\n        </div>\n    )\n}\n\nexport default NotifyModal\n","export default \"data:image/png;base64,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\"","import React from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { logout } from '../../redux/actions/authAction'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport Avatar from '../Avatar'\nimport NotifyModal from '../NotifyModal'\n\nconst Menu = () => {\n    const navLinks = [\n        { label: 'Home', icon: 'home', path: '/'},\n        { label: 'Message', icon: 'near_me', path: '/message'},\n        { label: 'Discover', icon: 'explore', path: '/discover'}\n    ]\n\n    const { auth, theme, notify } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const { pathname } = useLocation()\n\n    const isActive = (pn) => {\n        if(pn === pathname) return 'active'\n    }\n\n    return (\n        <div className=\"menu\">\n            <ul className=\"navbar-nav flex-row\">\n                {\n                    navLinks.map((link, index) => (\n                        <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\n                            <Link className=\"nav-link\" to={link.path}>\n                                <span className=\"material-icons\">{link.icon}</span>\n                            </Link>\n                        </li>\n                    ))\n                }\n\n                <li className=\"nav-item dropdown\" style={{opacity: 1}} >\n                    <span className=\"nav-link position-relative\" id=\"navbarDropdown\" \n                    role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\n                        <span className=\"material-icons\" \n                        style={{color: notify.data.length > 0 ? 'crimson' : ''}}>\n                            favorite\n                        </span>\n\n                        <span className=\"notify_length\">{notify.data.length}</span>\n\n                    </span>\n\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"\n                    style={{transform: 'translateX(75px)'}}>\n                        <NotifyModal />\n                    </div>\n                        \n                </li>\n           \n            \n                <li className=\"nav-item dropdown\" style={{opacity: 1}} >\n                    <span className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" \n                    role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\n                    </span>\n\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                    <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>Profile</Link>\n\n                    <label htmlFor=\"theme\" className=\"dropdown-item\"\n                    onClick={() => dispatch({\n                        type: GLOBALTYPES.THEME, payload: !theme\n                    })}>\n\n                        {theme ? 'Light mode' : 'Dark mode'}\n                    </label>\n\n                    <div className=\"dropdown-divider\"></div>\n                    <Link className=\"dropdown-item\" to=\"/\"\n                    onClick={() => dispatch(logout())}>\n                        Logout\n                    </Link>\n                </div>\n            </li>\n        </ul>\n    </div>\n\n    )\n}\n\nexport default Menu\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport UserCard from '../UserCard'\nimport LoadIcon from '../../images/loading.gif'\n\nconst Search = () => {\n    const [search, setSearch] = useState('')\n    const [users, setUsers] = useState([])\n\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const [load, setLoad] = useState(false)\n\n\n    const handleSearch = async (e) => {\n        e.preventDefault()\n        if(!search) return;\n\n        try {\n            setLoad(true)\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\n            setUsers(res.data.users)\n            setLoad(false)\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\n            })\n        }\n    }\n\n    const handleClose = () => {\n        setSearch('')\n        setUsers([])\n    }\n\n    return (\n        <form className=\"search_form\" onSubmit={handleSearch}>\n            <input type=\"text\" name=\"search\" value={search} id=\"search\" title=\"Enter to Search\"\n            onChange={e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))} />\n\n            <div className=\"search_icon\" style={{opacity: search ? 0 : 0.3}}>\n                <span className=\"material-icons\">search</span>\n                <span>Enter to Search</span>\n            </div>\n\n            <div className=\"close_search\" onClick={handleClose}\n            style={{opacity: users.length === 0 ? 0 : 1}} >\n                &times;\n            </div>\n\n            <button type=\"submit\" style={{display: 'none'}}>Search</button>\n\n            { load && <img className=\"loading\" src={LoadIcon} alt=\"loading\"  /> }\n\n            <div className=\"users\">\n                {\n                    search && users.map(user => (\n                        <UserCard \n                        key={user._id} \n                        user={user} \n                        border=\"border\"\n                        handleClose={handleClose} \n                        />\n                    ))\n                }\n            </div>\n        </form>\n    )\n}\n\nexport default Search\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Menu from './Menu'\nimport Search from './Search'\n\nconst Header = () => {\n\n    return (\n        <div className=\"header bg-light\">\n            <nav className=\"navbar navbar-expand-lg navbar-light \n            bg-light justify-content-between align-middle\">\n\n                <Link to=\"/\" className=\"logo\">\n                    <h1 className=\"navbar-brand text-uppercase p-0 m-0\"\n                    onClick={() => window.scrollTo({top: 0})}>\n                       djamel art\n                    </h1>\n                </Link>\n\n                <Search />\n\n                <Menu />\n            </nav>\n        </div>\n    )\n}\n\nexport default Header\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { GLOBALTYPES } from '../redux/actions/globalTypes'\nimport { createPost, updatePost } from '../redux/actions/postAction'\nimport Icons from './Icons'\nimport { imageShow, videoShow } from '../utils/mediaShow'\n\nconst StatusModal = () => {\n    const { auth, theme, status, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [content, setContent] = useState('')\n    const [images, setImages] = useState([])\n\n    const [stream, setStream] = useState(false)\n    const videoRef = useRef()\n    const refCanvas = useRef()\n    const [tracks, setTracks] = useState('')\n\n    const handleChangeImages = e => {\n        const files = [...e.target.files]\n        let err = \"\"\n        let newImages = []\n\n        files.forEach(file => {\n            if(!file) return err = \"File does not exist.\"\n\n            if(file.size > 1024 * 1024 * 5){\n                return err = \"The image/video largest is 5mb.\"\n            }\n\n            return newImages.push(file)\n        })\n\n        if(err) dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err} })\n        setImages([...images, ...newImages])\n    }\n\n    const deleteImages = (index) => {\n        const newArr = [...images]\n        newArr.splice(index, 1)\n        setImages(newArr)\n    }\n\n    const handleStream = () => {\n        setStream(true)\n        if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia){\n            navigator.mediaDevices.getUserMedia({video: true})\n            .then(mediaStream => {\n                videoRef.current.srcObject = mediaStream\n                videoRef.current.play()\n\n                const track = mediaStream.getTracks()\n                setTracks(track[0])\n            }).catch(err => console.log(err))\n        }\n    }\n\n    const handleCapture = () => {\n        const width = videoRef.current.clientWidth;\n        const height = videoRef.current.clientHeight;\n\n        refCanvas.current.setAttribute(\"width\", width)\n        refCanvas.current.setAttribute(\"height\", height)\n\n        const ctx = refCanvas.current.getContext('2d')\n        ctx.drawImage(videoRef.current, 0, 0, width, height)\n        let URL = refCanvas.current.toDataURL()\n        setImages([...images, {camera: URL}])\n    }\n\n    const handleStopStream = () => {\n        tracks.stop()\n        setStream(false)\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if(images.length === 0)\n        return dispatch({ \n            type: GLOBALTYPES.ALERT, payload: {error: \"Please add your photo.\"}\n        })\n\n        if(status.onEdit){\n            dispatch(updatePost({content, images, auth, status}))\n        }else{\n            dispatch(createPost({content, images, auth, socket}))\n        }\n        \n\n        setContent('')\n        setImages([])\n        if(tracks) tracks.stop()\n        dispatch({ type: GLOBALTYPES.STATUS, payload: false})\n    }\n\n    useEffect(() => {\n        if(status.onEdit){\n            setContent(status.content)\n            setImages(status.images)\n        }\n    },[status])\n\n\n   \n\n    return (\n        <div className=\"status_modal\">\n            <form onSubmit={handleSubmit}>\n                <div className=\"status_header\">\n                    <h5 className=\"m-0\">Create Post</h5>\n                    <span onClick={() => dispatch({\n                        type: GLOBALTYPES.STATUS, payload: false\n                    })}>\n                        &times;\n                    </span>\n                </div>\n\n                <div className=\"status_body\">\n                    <textarea name=\"content\" value={content}\n                    placeholder={`${auth.user.username}, what are you thinking?`}\n                    onChange={e => setContent(e.target.value)}\n                    style={{\n                        filter: theme ? 'invert(1)' : 'invert(0)',\n                        color: theme ? 'white' : '#111',\n                        background: theme ? 'rgba(0,0,0,.03)' : '',\n                    }} />\n\n                    <div className=\"d-flex\">\n                        <div className=\"flex-fill\"></div>\n                        <Icons setContent={setContent} content={content} theme={theme} />\n                    </div>\n\n                    <div className=\"show_images\">\n                        {\n                            images.map((img, index) => (\n                                <div key={index} id=\"file_img\">\n                                    {\n                                        img.camera ? imageShow(img.camera, theme)\n                                        : img.url\n                                            ?<>\n                                                {\n                                                    img.url.match(/video/i)\n                                                    ? videoShow(img.url, theme) \n                                                    : imageShow(img.url, theme)\n                                                }\n                                            </>\n                                            :<>\n                                                {\n                                                    img.type.match(/video/i)\n                                                    ? videoShow(URL.createObjectURL(img), theme) \n                                                    : imageShow(URL.createObjectURL(img), theme)\n                                                }\n                                            </>\n                                    }\n                                    <span onClick={() => deleteImages(index)}>&times;</span>\n                                </div>\n                            ))\n                        }\n                    </div>\n\n                    {\n                        stream && \n                        <div className=\"stream position-relative\">\n                            <video autoPlay muted ref={videoRef} width=\"100%\" height=\"100%\"\n                            style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                            \n                            <span onClick={handleStopStream}>&times;</span>\n                            <canvas ref={refCanvas} style={{display: 'none'}} />\n                        </div>\n                    }\n\n                    <div className=\"input_images\">\n                        {\n                            stream \n                            ? <i className=\"fas fa-camera\" onClick={handleCapture} />\n                            : <>\n                                <i className=\"fas fa-camera\" onClick={handleStream} />\n\n                                <div className=\"file_upload\">\n                                    <i className=\"fas fa-image\" />\n                                    <input type=\"file\" name=\"file\" id=\"file\"\n                                    multiple accept=\"image/*,video/*\" onChange={handleChangeImages} />\n                                </div>\n                            </>\n                        }\n                        \n                    </div>\n\n                </div>\n\n                <div className=\"status_footer\">\n                    <button className=\"btn btn-secondary w-100\" type=\"submit\">\n                        Post\n                    </button>\n                </div>\n\n            </form>\n        </div>\n    )\n}\n\nexport default StatusModal\n","import { GLOBALTYPES } from '../actions/globalTypes'\nimport { getDataAPI } from '../../utils/fetchData'\n\nexport const SUGGES_TYPES = {\n    LOADING: 'LOADING_SUGGES',\n    GET_USERS: 'GET_USERS_SUGGES',\n}\n\nexport const getSuggestions = (token) => async (dispatch) => {\n    try {\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: true })\n        \n        const res = await getDataAPI('suggestionsUser', token)\n        dispatch({ type: SUGGES_TYPES.GET_USERS, payload: res.data })\n\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: false })\n        \n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","export default __webpack_public_path__ + \"static/media/got-it-done-613.89a311f0.mp3\";","import React, { useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { POST_TYPES } from './redux/actions/postAction'\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\nimport { NOTIFY_TYPES } from './redux/actions/notifyAction'\nimport { MESS_TYPES } from './redux/actions/messageAction'\n\nimport audiobell from './audio/got-it-done-613.mp3'\n\n\nconst spawnNotification = (body, icon, url, title) => {\n    let options = {\n        body, icon\n    }\n    let n = new Notification(title, options)\n\n    n.onclick = e => {\n        e.preventDefault()\n        window.open(url, '_blank')\n    }\n}\n\nconst SocketClient = () => {\n    const { auth, socket, notify, online, call } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const audioRef = useRef()\n\n    // joinUser\n    useEffect(() => {\n        socket.emit('joinUser', auth.user)\n    },[socket, auth.user])\n\n    // Likes\n    useEffect(() => {\n        socket.on('likeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('likeToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('unLikeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('unLikeToClient')\n    },[socket, dispatch])\n\n\n    // Comments\n    useEffect(() => {\n        socket.on('createCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('createCommentToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('deleteCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('deleteCommentToClient')\n    },[socket, dispatch])\n\n\n    // Follow\n    useEffect(() => {\n        socket.on('followToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('followToClient')\n    },[socket, dispatch, auth])\n\n    useEffect(() => {\n        socket.on('unFollowToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('unFollowToClient')\n    },[socket, dispatch, auth])\n\n\n    // Notification\n    useEffect(() => {\n        socket.on('createNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg})\n\n            if(notify.sound) audioRef.current.play()\n            spawnNotification(\n                msg.user.username + ' ' + msg.text,\n                msg.user.avatar,\n                msg.url,\n                'V-NETWORK'\n            )\n        })\n\n        return () => socket.off('createNotifyToClient')\n    },[socket, dispatch, notify.sound])\n\n    useEffect(() => {\n        socket.on('removeNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg})\n        })\n\n        return () => socket.off('removeNotifyToClient')\n    },[socket, dispatch])\n\n\n    // Message\n    useEffect(() => {\n        socket.on('addMessageToClient', msg =>{\n            dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\n\n            dispatch({\n                type: MESS_TYPES.ADD_USER, \n                payload: {\n                    ...msg.user, \n                    text: msg.text, \n                    media: msg.media\n                }\n            })\n        })\n\n        return () => socket.off('addMessageToClient')\n    },[socket, dispatch])\n\n    // Check User Online / Offline\n    useEffect(() => {\n        socket.emit('checkUserOnline', auth.user)\n    },[socket, auth.user])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToMe', data =>{\n            data.forEach(item => {\n                if(!online.includes(item.id)){\n                    dispatch({type: GLOBALTYPES.ONLINE, payload: item.id})\n                }\n            })\n        })\n\n        return () => socket.off('checkUserOnlineToMe')\n    },[socket, dispatch, online])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToClient', id =>{\n            if(!online.includes(id)){\n                dispatch({type: GLOBALTYPES.ONLINE, payload: id})\n            }\n        })\n\n        return () => socket.off('checkUserOnlineToClient')\n    },[socket, dispatch, online])\n\n    // Check User Offline\n    useEffect(() => {\n        socket.on('CheckUserOffline', id =>{\n            dispatch({type: GLOBALTYPES.OFFLINE, payload: id})\n        })\n\n        return () => socket.off('CheckUserOffline')\n    },[socket, dispatch])\n\n\n    // Call User\n    useEffect(() => {\n        socket.on('callUserToClient', data =>{\n            dispatch({type: GLOBALTYPES.CALL, payload: data})\n        })\n\n        return () => socket.off('callUserToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('userBusy', data =>{\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: `${call.username} is busy!`}})\n        })\n\n        return () => socket.off('userBusy')\n    },[socket, dispatch, call])\n\n\n\n    return (\n        <>\n            <audio controls ref={audioRef} style={{display: 'none'}} >\n                <source src={audiobell} type=\"audio/mp3\" />\n            </audio>\n        </>\n    )\n}\n\nexport default SocketClient\n","export default __webpack_public_path__ + \"static/media/ringring.278d7816.mp3\";","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Avatar from '../Avatar'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { addMessage } from '../../redux/actions/messageAction'\nimport RingRing from '../../audio/ringring.mp3'\n\nconst CallModal = () => {\n    const { call, auth, peer, socket, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [hours, setHours] = useState(0)\n    const [mins, setMins] = useState(0)\n    const [second, setSecond] = useState(0)\n    const [total, setTotal] = useState(0)\n\n    const [answer, setAnswer] = useState(false)\n    const youVideo = useRef()\n    const otherVideo = useRef()\n    const [tracks, setTracks] = useState(null)\n    const [newCall, setNewCall] = useState(null)\n\n    // Set Time\n    useEffect(() => {\n        const setTime = () => {\n            setTotal(t => t + 1)\n            setTimeout(setTime, 1000)\n        }\n        setTime()\n\n        return () => setTotal(0)\n    },[])\n\n    useEffect(() => {\n        setSecond(total%60)\n        setMins(parseInt(total/60))\n        setHours(parseInt(total/3600))\n    },[total])\n\n\n    // End Call\n    const addCallMessage = useCallback((call, times, disconnect) => {\n        if(call.recipient !== auth.user._id || disconnect){\n            const msg = {\n                sender: call.sender,\n                recipient: call.recipient,\n                text: '', \n                media: [],\n                call: {video: call.video, times},\n                createdAt: new Date().toISOString()\n            }\n            dispatch(addMessage({msg, auth, socket}))\n        }\n    },[auth, dispatch, socket])\n\n    const handleEndCall = () => {\n        tracks && tracks.forEach(track => track.stop())\n        if(newCall) newCall.close()\n        let times = answer ? total : 0\n        socket.emit('endCall', {...call, times})\n        \n        addCallMessage(call, times)\n        dispatch({type: GLOBALTYPES.CALL, payload: null })\n    }\n\n    useEffect(() => {\n        if(answer){\n            setTotal(0)\n        }else{\n            const timer = setTimeout(() => {\n                socket.emit('endCall', {...call, times: 0})\n                addCallMessage(call, 0)\n                dispatch({type: GLOBALTYPES.CALL, payload: null })\n            }, 15000)\n    \n            return () => clearTimeout(timer)\n        }\n        \n    },[dispatch, answer, call, socket, addCallMessage])\n\n    useEffect(() => {\n        socket.on('endCallToClient', data => {\n            tracks && tracks.forEach(track => track.stop())\n            if(newCall) newCall.close()\n            addCallMessage(data, data.times)\n            dispatch({ type: GLOBALTYPES.CALL, payload: null })\n        })\n\n        return () => socket.off('endCallToClient')\n    },[socket, dispatch, tracks, addCallMessage, newCall])\n\n\n    // Stream Media\n    const openStream = (video) => {\n        const config = { audio: true, video }\n        return navigator.mediaDevices.getUserMedia(config)\n    }\n\n    const playStream = (tag, stream) => {\n        let video = tag;\n        video.srcObject = stream;\n        video.play()\n    }\n\n    // Answer Call\n    const handleAnswer = () => {\n        openStream(call.video).then(stream => {\n            playStream(youVideo.current, stream)\n            const track = stream.getTracks()\n            setTracks(track)\n            \n            const newCall = peer.call(call.peerId, stream);\n            newCall.on('stream', function(remoteStream) {\n                playStream(otherVideo.current, remoteStream)\n            });\n            setAnswer(true)\n            setNewCall(newCall)\n        })\n    }\n\n    useEffect(() => {\n        peer.on('call', newCall => {\n            openStream(call.video).then(stream => {\n                if(youVideo.current){\n                    playStream(youVideo.current, stream)\n                }\n                const track = stream.getTracks()\n                setTracks(track)\n                \n                newCall.answer(stream)\n                newCall.on('stream', function(remoteStream) {\n                    if(otherVideo.current){\n                        playStream(otherVideo.current, remoteStream)\n                    }\n                });\n                setAnswer(true) \n                setNewCall(newCall)\n            })\n        })\n        return () => peer.removeListener('call')\n    },[peer, call.video])\n\n    // Disconnect\n    useEffect(() => {\n        socket.on('callerDisconnect', () => {\n            tracks && tracks.forEach(track => track.stop())\n            if(newCall) newCall.close()\n            let times = answer ? total : 0\n            addCallMessage(call, times, true)\n\n            dispatch({type: GLOBALTYPES.CALL, payload: null })\n\n            dispatch({\n                type: GLOBALTYPES.ALERT, \n                payload: {error: `The ${call.username} disconnect`} \n            })\n        })\n\n        return () => socket.off('callerDisconnect')\n    },[socket, tracks, dispatch, call, addCallMessage, answer, total, newCall])\n\n    // Play - Pause Audio\n    const playAudio = (newAudio) => {\n        newAudio.play()\n    }\n\n    const pauseAudio = (newAudio) => {\n        newAudio.pause()\n        newAudio.currentTime = 0\n    }\n\n    useEffect(() => {\n        let newAudio = new Audio(RingRing)\n        if(answer){\n            pauseAudio(newAudio)\n        }else{\n            playAudio(newAudio)\n        }\n\n        return () => pauseAudio(newAudio)\n    },[answer])\n\n\n    return (\n        <div className=\"call_modal\">\n            <div className=\"call_box\" style={{\n                display: (answer && call.video) ? 'none' : 'flex'\n            }} >\n\n                <div className=\"text-center\" style={{padding: '40px 0'}} >\n                    <Avatar src={call.avatar} size=\"supper-avatar\" />\n                    <h4>{call.username}</h4>\n                    <h6>{call.fullname}</h6>\n\n                    {\n                        answer \n                        ? <div>\n                            <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\n                            <span>:</span>\n                            <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\n                            <span>:</span>\n                            <span>{ second.toString().length < 2 ? '0' + second : second }</span>\n                        </div>\n                        : <div>\n                            {\n                                call.video\n                                ? <span>calling video...</span>\n                                : <span>calling audio...</span>\n                            }\n                        </div>\n                    }\n                    \n                </div>\n                \n                {\n                    !answer && \n                    <div className=\"timer\">\n                        <small>{ mins.toString().length < 2 ? '0' + mins : mins }</small>\n                        <small>:</small>\n                        <small>{ second.toString().length < 2 ? '0' + second : second }</small>\n                    </div>\n                }\n                \n\n                <div className=\"call_menu\">\n                    <button className=\"material-icons text-danger\"\n                    onClick={handleEndCall}>\n                        call_end\n                    </button>\n                    \n                    {\n                        (call.recipient === auth.user._id && !answer) &&\n                        <>\n                            {\n                                call.video\n                                ? <button className=\"material-icons text-success\"\n                                onClick={handleAnswer}>\n                                    videocam\n                                </button>\n                                : <button className=\"material-icons text-success\"\n                                onClick={handleAnswer}>\n                                    call\n                                </button>\n                            }\n                        </>\n                    }\n                    \n                </div>\n                \n            </div>\n\n            <div className=\"show_video\" style={{\n                opacity: (answer && call.video) ? '1' : '0',\n                filter: theme ? 'invert(1)' : 'invert(0)'\n            }} >\n\n                <video ref={youVideo} className=\"you_video\" playsInline muted />\n                <video ref={otherVideo} className=\"other_video\" playsInline />\n\n                <div className=\"time_video\">\n                    <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\n                    <span>:</span>\n                    <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\n                    <span>:</span>\n                    <span>{ second.toString().length < 2 ? '0' + second : second }</span>\n                </div>\n\n                <button className=\"material-icons text-danger end_call\"\n                onClick={handleEndCall}>\n                    call_end\n                </button>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default CallModal\n","import { useEffect } from 'react'\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\n\nimport PageRender from './customRouter/PageRender'\nimport PrivateRouter from './customRouter/PrivateRouter'\n\nimport Home from './pages/home'\nimport Login from './pages/login'\nimport Register from './pages/register'\n\nimport Alert from './components/alert/Alert'\nimport Header from './components/header/Header'\nimport StatusModal from './components/StatusModal'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { refreshToken } from './redux/actions/authAction'\nimport { getPosts } from './redux/actions/postAction'\nimport { getSuggestions } from './redux/actions/suggestionsAction'\n\nimport io from 'socket.io-client'\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\nimport SocketClient from './SocketClient'\n\nimport { getNotifies } from './redux/actions/notifyAction'\nimport CallModal from './components/message/CallModal'\n \nfunction App() {\n  const { auth, status, modal, call } = useSelector(state => state)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(refreshToken())\n\n    const socket = io()\n    dispatch({type: GLOBALTYPES.SOCKET, payload: socket})\n    return () => socket.close()\n  },[dispatch])\n\n  useEffect(() => {\n    if(auth.token) {\n      dispatch(getPosts(auth.token))\n      dispatch(getSuggestions(auth.token))\n      dispatch(getNotifies(auth.token))\n    }\n  }, [dispatch, auth.token])\n\n  \n  useEffect(() => {\n    if (!(\"Notification\" in window)) {\n      alert(\"This browser does not support desktop notification\");\n    }\n    else if (Notification.permission === \"granted\") {}\n    else if (Notification.permission !== \"denied\") {\n      Notification.requestPermission().then(function (permission) {\n        if (permission === \"granted\") {}\n      });\n    }\n  },[])\n\n  \n    \n\n  return (\n    <Router>\n      <Alert />\n\n      <input type=\"checkbox\" id=\"theme\" />\n      <div className={`App ${(status || modal) && 'mode'}`}>\n        <div className=\"main\">\n          {auth.token && <Header />}\n          {status && <StatusModal />}\n          {auth.token && <SocketClient />}\n          {call && <CallModal />}\n          \n          <Route exact path=\"/\" component={auth.token ? Home : Login} />\n          <Route exact path=\"/register\" component={Register} />\n\n          <PrivateRouter exact path=\"/:page\" component={PageRender} />\n          <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\n          \n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = {}\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.AUTH:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default authReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = {}\n\nconst alertReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.ALERT:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default alertReducer\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = false\n\nconst themeReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.THEME:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default themeReducer","import { PROFILE_TYPES } from '../actions/profileAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    ids: [],\n    users: [],\n    posts: []\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type){\n        case PROFILE_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case PROFILE_TYPES.GET_USER:\n            return {\n                ...state,\n                users: [...state.users, action.payload.user]\n            };\n        case PROFILE_TYPES.FOLLOW:\n            return {\n                ...state,\n                users: EditData(state.users, action.payload._id, action.payload)\n            };\n        case PROFILE_TYPES.UNFOLLOW:\n            return {\n                ...state,\n                users: EditData(state.users, action.payload._id, action.payload)\n            };\n        case PROFILE_TYPES.GET_ID:\n            return {\n                ...state,\n                ids: [...state.ids, action.payload]\n            };\n        case PROFILE_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: [...state.posts, action.payload]\n            };\n        case PROFILE_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: EditData(state.posts, action.payload._id, action.payload)\n            };\n        default:\n            return state;\n    }\n}\n\nexport default profileReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst statusReducer = (state = false, action) => {\n    switch (action.type){\n        case GLOBALTYPES.STATUS:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default statusReducer","import { POST_TYPES } from '../actions/postAction'\nimport { EditData, DeleteData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    posts: [],\n    result: 0,\n    page: 2\n}\n\nconst postReducer = (state = initialState, action) => {\n    switch (action.type){\n        case POST_TYPES.CREATE_POST:\n            return {\n                ...state,\n                posts: [action.payload, ...state.posts]\n            };\n        case POST_TYPES.LOADING_POST:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case POST_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                page: action.payload.page\n            };\n        case POST_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: EditData(state.posts, action.payload._id, action.payload)\n            };\n        case POST_TYPES.DELETE_POST:\n            return {\n                ...state,\n                posts: DeleteData(state.posts, action.payload._id)\n            };\n        default:\n            return state;\n    }\n}\n\nexport default postReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = false\n\nconst modalReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.MODAL:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default modalReducer","import { POST_TYPES } from '../actions/postAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst detailPostReducer = (state = [], action) => {\n    switch (action.type){\n        case POST_TYPES.GET_POST:\n            return [...state, action.payload]\n        case POST_TYPES.UPDATE_POST:\n            return EditData(state, action.payload._id, action.payload)\n        default:\n            return state;\n    }\n}\n\n\nexport default detailPostReducer","import { DISCOVER_TYPES } from '../actions/discoverAction'\n\nconst initialState = {\n    loading: false,\n    posts: [],\n    result: 9,\n    page: 2,\n    firstLoad: false\n}\n\nconst discoverReducer = (state = initialState, action) => {\n    switch (action.type){\n        case DISCOVER_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case DISCOVER_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                firstLoad: true\n            };\n        case DISCOVER_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                page: state.page + 1\n            };\n        default:\n            return state;\n    }\n}\n\nexport default discoverReducer\n","import { SUGGES_TYPES } from '../actions/suggestionsAction'\n\nconst initialState = {\n    loading: false,\n    users: []\n}\n\n\nconst suggestionsReducer = (state = initialState, action) => {\n    switch (action.type){\n        case SUGGES_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case SUGGES_TYPES.GET_USERS:\n            return {\n                ...state,\n                users: action.payload.users\n            };\n        default:\n            return state;\n    }\n}\n\nexport default suggestionsReducer\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst socketReducer = (state = [], action) => {\n    switch (action.type){\n        case GLOBALTYPES.SOCKET:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default socketReducer","import { NOTIFY_TYPES } from '../actions/notifyAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    data: [],\n    sound: false\n}\n\nconst notifyReducer = (state = initialState, action) => {\n    switch (action.type){\n        case NOTIFY_TYPES.GET_NOTIFIES:\n            return {\n                ...state,\n                data: action.payload\n            };\n        case NOTIFY_TYPES.CREATE_NOTIFY:\n            return {\n                ...state,\n                data: [action.payload, ...state.data]\n            };\n        case NOTIFY_TYPES.REMOVE_NOTIFY:\n            return {\n                ...state,\n                data: state.data.filter(item => (\n                    item.id !== action.payload.id || item.url !== action.payload.url\n                ))\n            };\n        case NOTIFY_TYPES.UPDATE_NOTIFY:\n            return {\n                ...state,\n                data: EditData(state.data, action.payload._id, action.payload)\n            };\n        case NOTIFY_TYPES.UPDATE_SOUND:\n            return {\n                ...state,\n                sound: action.payload\n            };\n        case NOTIFY_TYPES.DELETE_ALL_NOTIFIES:\n            return {\n                ...state,\n                data: action.payload\n            };\n        default:\n            return state;\n    }\n}\n\n\nexport default notifyReducer","import { MESS_TYPES } from '../actions/messageAction'\nimport { EditData, DeleteData } from '../actions/globalTypes'\n\nconst initialState = {\n    users: [],\n    resultUsers: 0,\n    data: [],\n    firstLoad: false\n}\n\nconst messageReducer = (state = initialState, action) => {\n    switch (action.type){\n        case MESS_TYPES.ADD_USER:\n            if(state.users.every(item => item._id !== action.payload._id)){\n                return {\n                    ...state,\n                    users: [action.payload, ...state.users]\n                };\n            }\n            return state;\n        case MESS_TYPES.ADD_MESSAGE:\n            return {\n                ...state,\n                data: state.data.map(item => \n                    item._id === action.payload.recipient || item._id === action.payload.sender \n                    ? {\n                        ...item,\n                        messages: [...item.messages, action.payload],\n                        result: item.result + 1\n                    }\n                    : item\n                ),\n                users: state.users.map(user => \n                    user._id === action.payload.recipient || user._id === action.payload.sender\n                    ? {\n                        ...user, \n                        text: action.payload.text, \n                        media: action.payload.media,\n                        call: action.payload.call\n                    }\n                    : user\n                )\n            };\n        case MESS_TYPES.GET_CONVERSATIONS:\n            return {\n                ...state,\n                users: action.payload.newArr,\n                resultUsers: action.payload.result,\n                firstLoad: true\n            };\n        case MESS_TYPES.GET_MESSAGES:\n            return {\n                ...state,\n                data: [...state.data, action.payload]\n            };\n        case MESS_TYPES.UPDATE_MESSAGES:\n            return {\n                ...state,\n                data: EditData(state.data, action.payload._id, action.payload)\n            };\n        case MESS_TYPES.DELETE_MESSAGES:\n            return {\n                ...state,\n                data: state.data.map(item => \n                    item._id === action.payload._id\n                    ? {...item, messages: action.payload.newData}\n                    : item\n                )\n            };\n        case MESS_TYPES.DELETE_CONVERSATION:\n            return {\n                ...state,\n                users: DeleteData(state.users, action.payload),\n                data: DeleteData(state.data, action.payload)\n            };\n        case MESS_TYPES.CHECK_ONLINE_OFFLINE:\n            return {\n                ...state,\n                users: state.users.map(user => \n                    action.payload.includes(user._id)\n                    ? {...user, online: true}\n                    : {...user, online: false}\n                )\n            };\n        default:\n            return state;\n    }\n}\n\nexport default messageReducer;","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst onlineReducer = (state = [], action) => {\n    switch (action.type){\n        case GLOBALTYPES.ONLINE:\n            return [...state, action.payload];\n        case GLOBALTYPES.OFFLINE:\n            return state.filter(item => item !== action.payload)\n        default:\n            return state;\n    }\n}\n\n\nexport default onlineReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst callReducer = (state = null, action) => {\n    switch (action.type){\n        case GLOBALTYPES.CALL:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default callReducer","import { combineReducers } from 'redux'\nimport auth from './authReducer'\nimport alert from './alertReducer'\nimport theme from './themeReducer'\nimport profile from './profileReducer'\nimport status from './statusReducer'\nimport homePosts from './postReducer'\nimport modal from './modalReducer'\nimport detailPost from './detailPostReducer'\nimport discover from './discoverReducer'\nimport suggestions from './suggestionsReducer'\nimport socket from './socketReducer'\nimport notify from './notifyReducer'\nimport message from './messageReducer'\nimport online from './onlineReducer'\nimport call from './callReducer'\n \n\n\nexport default combineReducers({\n    auth,\n    alert,\n    theme,\n    profile,\n    status,\n    homePosts,\n    modal,\n    detailPost,\n    discover,\n    suggestions,\n    socket,\n    notify,\n    message,\n    online,\n    call,\n    \n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers/index'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst DataProvider = ({children}) => {\n    return(\n        <Provider store={store}>\n            {children}\n        </Provider>\n    )\n}\n\nexport default DataProvider","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/global.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport DataProvider from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <DataProvider>\n      <App />\n    </DataProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { useDispatch } from \"react-redux\"\nimport { GLOBALTYPES } from \"../redux/actions/globalTypes\"\nconst dispatch = useDispatch\nexport const imageShow = (src ) => {\n    return(\n        <img src={src} alt=\"images\" className=\"img-thumbnail\"\n        />\n    )\n}\n\nexport const videoShow = (src, theme) => {\n    return(\n        <video controls src={src} alt=\"images\" className=\"img-thumbnail\"\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n    )\n}\n\n ","import React from 'react'\nimport Avatar from './Avatar'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst UserCard = ({children, user, border, handleClose, setShowFollowers, setShowFollowing, msg}) => {\n\n    const { theme } = useSelector(state => state)\n\n    const handleCloseAll = () => {\n        if(handleClose) handleClose()\n        if(setShowFollowers) setShowFollowers(false)\n        if(setShowFollowing) setShowFollowing(false)\n    }\n\n    const showMsg = (user) => {\n        return(\n            <>\n                <div style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\n                    {user.text}\n                </div>\n                {\n                    user.media.length > 0 && \n                    <div>\n                        {user.media.length} <i className=\"fas fa-image\" />\n                    </div>\n                }\n\n                {\n                    user.call &&\n                    <span className=\"material-icons\">\n                        {\n                            user.call.times === 0\n                            ? user.call.video ? 'videocam_off' : 'phone_disabled'\n                            : user.call.video ? 'video_camera_front' : 'call'\n                        }\n                    </span>\n                }\n            </>\n        )\n    }\n\n\n    return (\n        <div className={`d-flex p-2 align-items-center justify-content-between w-100 ${border}`}>\n            <div>\n                <Link to={`/profile/${user._id}`} onClick={handleCloseAll}\n                className=\"d-flex align-items-center\">\n                    \n                    <Avatar src={user.avatar} size=\"big-avatar\" />\n\n                    <div className=\"ml-1\" style={{transform: 'translateY(-2px)'}}>\n                        <span className=\"d-block\">{user.username}</span>\n                        \n                        <small style={{opacity: 0.7}}>\n                            {\n                                msg \n                                ? showMsg(user)\n                                : user.fullname\n                            }\n                        </small>\n                    </div>\n                </Link>\n            </div>\n            \n            {children}\n        </div>\n    )\n}\n\nexport default UserCard\n","/*export const checkImage = (file) => {\n    let err = \"\"\n    if(!file) return err = \"File does not exist.\"\n\n    if(file.size > 1024 * 1024) // 1mb\n    err = \"The largest image size is 1mb.\"\n\n    if(file.type !== 'image/jpeg' && file.type !== 'image/png' )\n    err = \"Image format is incorrect.\"\n    \n    return err;\n}*/\nexport const checkImage = (files) => {\n  let err = \"\";\n  if (!files || files.length === 0) return err = \"No files selected.\";\n\n  // Limitar a un mximo de 3 imgenes\n  if (files.length > 3) {\n    err = \"You can only upload up to 3 images.\";\n    return err;\n  }\n\n  const allowedExtensions = ['jpeg', 'jpg', 'png'];\n  const blockedExtensions = ['txt', 'pdf']; // Agregar aqu las extensiones bloqueadas\n\n  for (let i = 0; i < files.length; i++) {\n    const file = files[i];\n    if (file.size > 1024 * 1024) {\n      err = \"The largest image size is 1mb.\";\n      return err;\n    }\n\n    const fileExtension = file.name.split('.').pop().toLowerCase();\n    if (!allowedExtensions.includes(fileExtension)) {\n      err = \"Image format is incorrect.\";\n      return err;\n    }\n\n    if (blockedExtensions.includes(fileExtension)) {\n      err = \"File type not allowed.\";\n      return err;\n    }\n  }\n\n  return err;\n};\n\n  \n\nexport const imageUpload = async (images) => {\n    let imgArr = [];\n    for(const item of images){//fpr corre todas las imagenes que se han enviado a la funcion\n        const formData = new FormData()//es como un paquete qui contendra las imagenes o imagen como la informacion\n        //necesaria para cloudinary como informacion propia \n\n        if(item.camera){\n            formData.append(\"file\", item.camera)//aqui file es la imagen solo que agrega como un campo llamado fule\n        }else{\n            formData.append(\"file\", item)\n        }\n        \n        formData.append(\"upload_preset\", \"xl7nhfgx\")//clave predefinida por cloudinary  para poder subir las imagenes \n        formData.append(\"cloud_name\", \"arteeeuhgu\")// el  nombtre de mi cuenta\n//cuando el form data ha empaquetado los datos necesarios se envian con fetch a cloudinary esperando una respuesta\n        const res = await fetch(\"https://api.cloudinary.com/v1_1/arteeeuhgu/image/upload\", {\n            method: \"POST\",\n            body: formData\n        })\n        \n        const data = await res.json()//cuando se obtiene la respuesta \n        imgArr.push({public_id: data.public_id, url: data.secure_url})//se extare la informacion de data y \n        //se guarda en imgArr, es decir desde data.pblic_id y el secure_ url se extrae desde data en url para poder guardarlos en imgArr\n    }\n    return imgArr;\n}\n\n/*En resumen, el proceso es muy similar a un \"paquete\" que contiene tanto los archivos (las imgenes) como los datos necesarios para que el servidor de Cloudinary sepa cmo procesarlos correctamente. fetch se encarga de enviar este paquete al servidor, y Cloudinary responde con la informacin de la imagen subida.*/","import React from 'react'\n\nconst LoadMoreBtn = ({result, page, load, handleLoadMore}) => {\n    return (\n        <>\n            {\n                result < 9 * (page - 1) ? '' : \n\n                !load && <button className=\"btn btn-dark mx-auto d-block\"\n                onClick={handleLoadMore}>\n                    Load more\n                </button>\n            }\n            \n        </>\n    )\n}\n\nexport default LoadMoreBtn\n","const valid = ({ username, email, password, cf_password}) => {\n    const err = {}\n\n   \n    if(!username) {\n        err.username = \"Please add your user name.\"\n    }else if(username.replace(/ /g, '').length > 25){\n        err.username = \"User name is up to 25 characters long.\"\n    }\n\n    if(!email) {\n        err.email = \"Please add your email.\"\n    }else if(!validateEmail(email)){\n        err.email = \"Email format is incorrect.\"\n    }\n\n    if(!password) {\n        err.password = \"Please add your password.\"\n    }else if(password.length < 6){\n        err.password = \"Password must be at least 6 characters.\"\n    }\n\n    if(password !== cf_password) {\n        err.cf_password = \"Confirm password did not match.\"\n    }\n\n    return {\n        errMsg: err,\n        errLength: Object.keys(err).length\n    }\n}\n\n\n\nfunction validateEmail(email) {\n    // eslint-disable-next-line\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n  \nexport default valid","import { GLOBALTYPES } from './globalTypes'\nimport { postDataAPI } from '../../utils/fetchData'\nimport valid from '../../utils/valid'\n\n\nexport const login = (data) => async (dispatch) => {\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n        const res = await postDataAPI('login', data)\n        dispatch({ \n            type: GLOBALTYPES.AUTH, \n            payload: {\n                token: res.data.access_token,\n                user: res.data.user\n            } \n        })\n\n        localStorage.setItem(\"firstLogin\", true)\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                success: res.data.msg\n            } \n        })\n        \n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}\n\n\nexport const refreshToken = () => async (dispatch) => {\n    const firstLogin = localStorage.getItem(\"firstLogin\")\n    if(firstLogin){\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n\n        try {\n            const res = await postDataAPI('refresh_token')\n            dispatch({ \n                type: GLOBALTYPES.AUTH, \n                payload: {\n                    token: res.data.access_token,\n                    user: res.data.user\n                } \n            })\n\n            dispatch({ type: GLOBALTYPES.ALERT, payload: {} })\n\n        } catch (err) {\n            dispatch({ \n                type: GLOBALTYPES.ALERT, \n                payload: {\n                    error: err.response.data.msg\n                } \n            })\n        }\n    }\n}\n\nexport const register = (data) => async (dispatch) => {\n    const check = valid(data)\n    if(check.errLength > 0)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: check.errMsg})\n\n    try {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\n\n        const res = await postDataAPI('register', data)\n        dispatch({ \n            type: GLOBALTYPES.AUTH, \n            payload: {\n                token: res.data.access_token,\n                user: res.data.user\n            } \n        })\n\n        localStorage.setItem(\"firstLogin\", true)\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                success: res.data.msg\n            } \n        })\n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}\n\n\nexport const logout = () => async (dispatch) => {\n    try {\n        localStorage.removeItem('firstLogin')\n        await postDataAPI('logout')\n        window.location.href = \"/\"\n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}","import { GLOBALTYPES } from './globalTypes'\nimport { getDataAPI } from '../../utils/fetchData'\n\nexport const DISCOVER_TYPES = {\n    LOADING: 'LOADING_DISCOVER',\n    GET_POSTS: 'GET_DISCOVER_POSTS',\n    UPDATE_POST: 'UPDATE_DISCOVER_POST'\n}\n\nexport const getDiscoverPosts = (token) => async (dispatch) => {\n    try {\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: true})\n\n        const res = await getDataAPI(`post_discover`, token)\n        dispatch({type: DISCOVER_TYPES.GET_POSTS, payload: res.data})\n\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: false})\n\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","export const GLOBALTYPES = {\n    AUTH: \"AUTH\",\n    ALERT: \"ALERT\",\n    THEME: 'THEME',\n    STATUS: 'STATUS',\n    MODAL: 'MODAL',\n    SOCKET: 'SOCKET',\n    ONLINE: 'ONLINE',\n    OFFLINE: 'OFFLINE',\n    CALL: 'CALL',\n   \n}\n\nexport const EditData = (data, id, post) => {\n    const newData = data.map(item => \n        (item._id === id ? post : item)\n    )\n    return newData;\n}\n\nexport const DeleteData = (data, id) => {\n    const newData = data.filter(item => item._id !== id)\n    return newData;\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst PostThumb = ({posts, result}) => {\n    const { theme } = useSelector(state => state)\n\n    if(result === 0) return <h2 className=\"text-center text-danger\">No Post</h2>\n\n    return (\n        <div className=\"post_thumb\">\n            {\n                posts.map(post => (\n                    <Link key={post._id} to={`/post/${post._id}`}>\n                        <div className=\"post_thumb_display\">\n\n                            {\n                                post.images[0].url.match(/video/i)\n                                ?<video controls src={post.images[0].url} alt={post.images[0].url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n\n                                :<img src={post.images[0].url} alt={post.images[0].url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                            }\n\n                            <div className=\"post_thumb_menu\">\n                                <i className=\"far fa-heart\">{post.likes.length}</i>\n                                <i className=\"far fa-comment\">{post.comments.length}</i>\n                            </div>\n                        </div>\n                    </Link>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default PostThumb\n","import React from 'react'\n\nconst Icons = ({setContent, content, theme}) => {\n    const reactions = [   \n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', ''\n    ]\n\n    return (\n        <div className=\"nav-item dropdown\" \n        style={{ opacity: 1, filter: theme ? 'invert(1)' : 'invert(0)' }}>\n            \n            <span className=\"nav-link position-relative px-1\" id=\"navbarDropdown\" \n            role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span style={{opacity: 0.4}}></span>\n            </span>\n\n            <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                <div className=\"reactions\">\n                    {\n                        reactions.map(icon => (\n                            <span key={icon} onClick={() => setContent(content + icon)}>\n                                {icon}\n                            </span>\n                        ))\n                    }\n                </div>\n            </div>\n                \n        </div>\n    )\n}\n\nexport default Icons\n","import React from 'react'\nimport LeftSide from '../../components/message/LeftSide'\n\nconst Message = () => {\n    return (\n        <div className=\"message d-flex\">\n            <div className=\"col-md-4 border-right px-0\">\n                <LeftSide />\n            </div>\n\n            <div className=\"col-md-8 px-0 right_mess\">\n                <div className=\"d-flex justify-content-center \n                align-items-center flex-column h-100\">\n\n                    <i className=\"fab fa-facebook-messenger text-primary\"\n                    style={{fontSize: '5rem'}} />\n                    <h4>Messenger</h4>\n\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Message\n","import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { login } from '../redux/actions/authAction'\nimport { useDispatch, useSelector } from 'react-redux'\n\n\nconst Login = () => {\n    const initialState = { email: '', password: '' }\n    const [userData, setUserData] = useState(initialState)\n    const { email, password } = userData\n\n    const [typePass, setTypePass] = useState(false)\n\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    useEffect(() => {\n        if(auth.token) history.push(\"/\")\n    }, [auth.token, history])\n\n    const handleChangeInput = e => {\n        const { name, value } = e.target\n        setUserData({...userData, [name]:value})\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        dispatch(login(userData))\n    }\n\n    return (\n        <div className=\"auth_page\">\n            <form onSubmit={handleSubmit}>\n                <h3 className=\"text-uppercase text-center mb-4\">V-Network</h3>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputEmail1\">Email address</label>\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\"\n                    aria-describedby=\"emailHelp\" onChange={handleChangeInput} value={email} />\n                    \n                    <small id=\"emailHelp\" className=\"form-text text-muted\">\n                        We'll never share your email with anyone else.\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\n\n                    <div className=\"pass\">\n                        \n                        <input type={ typePass ? \"text\" : \"password\" } \n                        className=\"form-control\" id=\"exampleInputPassword1\"\n                        onChange={handleChangeInput} value={password} name=\"password\" />\n\n                        <small onClick={() => setTypePass(!typePass)}>\n                            {typePass ? 'Hide' : 'Show'}\n                        </small>\n                    </div>\n                   \n                </div>\n                \n                <button type=\"submit\" className=\"btn btn-dark w-100\"\n                disabled={email && password ? false : true}>\n                    Login\n                </button>\n\n                <p className=\"my-2\">\n                    You don't have an account? <Link to=\"/register\" style={{color: \"crimson\"}}>Register Now</Link>\n                </p>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useHistory, Link } from 'react-router-dom'\nimport { register } from '../redux/actions/authAction'\n\nconst Register = () => {\n    const { auth, alert } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    const initialState = { \n        fullname: '', username: '', email: '', password: '', cf_password: '', gender: 'male'\n    }\n    const [userData, setUserData] = useState(initialState)\n    const { fullname, username, email, password, cf_password } = userData\n\n    const [typePass, setTypePass] = useState(false)\n    const [typeCfPass, setTypeCfPass] = useState(false)\n\n    useEffect(() => {\n        if(auth.token) history.push(\"/\")\n    }, [auth.token, history])\n\n    \n    const handleChangeInput = e => {\n        const { name, value } = e.target\n        setUserData({...userData, [name]:value})\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        dispatch(register(userData))\n    }\n\n    return (\n        <div className=\"auth_page\">\n            <form onSubmit={handleSubmit}>\n                <h3 className=\"text-uppercase text-center mb-4\">V-Network</h3>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"fullname\">Full Name</label>\n                    <input type=\"text\" className=\"form-control\" id=\"fullname\" name=\"fullname\"\n                    onChange={handleChangeInput} value={fullname}\n                    style={{background: `${alert.fullname ? '#fd2d6a14' : ''}`}} />\n                    \n                    <small className=\"form-text text-danger\">\n                        {alert.fullname ? alert.fullname : ''}\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"username\">User Name</label>\n                    <input type=\"text\" className=\"form-control\" id=\"username\" name=\"username\"\n                    onChange={handleChangeInput} value={username.toLowerCase().replace(/ /g, '')}\n                    style={{background: `${alert.username ? '#fd2d6a14' : ''}`}} />\n                    \n                    <small className=\"form-text text-danger\">\n                        {alert.username ? alert.username : ''}\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputEmail1\">Email address</label>\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\"\n                    onChange={handleChangeInput} value={email}\n                    style={{background: `${alert.email ? '#fd2d6a14' : ''}`}} />\n                    \n                    <small className=\"form-text text-danger\">\n                        {alert.email ? alert.email : ''}\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\n\n                    <div className=\"pass\">\n                        \n                        <input type={ typePass ? \"text\" : \"password\" } \n                        className=\"form-control\" id=\"exampleInputPassword1\"\n                        onChange={handleChangeInput} value={password} name=\"password\"\n                        style={{background: `${alert.password ? '#fd2d6a14' : ''}`}} />\n\n                        <small onClick={() => setTypePass(!typePass)}>\n                            {typePass ? 'Hide' : 'Show'}\n                        </small>\n                    </div>\n\n                    <small className=\"form-text text-danger\">\n                        {alert.password ? alert.password : ''}\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"cf_password\">Confirm Password</label>\n\n                    <div className=\"pass\">\n                        \n                        <input type={ typeCfPass ? \"text\" : \"password\" } \n                        className=\"form-control\" id=\"cf_password\"\n                        onChange={handleChangeInput} value={cf_password} name=\"cf_password\"\n                        style={{background: `${alert.cf_password ? '#fd2d6a14' : ''}`}} />\n\n                        <small onClick={() => setTypeCfPass(!typeCfPass)}>\n                            {typeCfPass ? 'Hide' : 'Show'}\n                        </small>\n                    </div>\n\n                    <small className=\"form-text text-danger\">\n                        {alert.cf_password ? alert.cf_password : ''}\n                    </small>\n                </div>\n\n                <div className=\"row justify-content-between mx-0 mb-1\">\n                    <label htmlFor=\"male\">\n                        Male: <input type=\"radio\" id=\"male\" name=\"gender\"\n                        value=\"male\" defaultChecked onChange={handleChangeInput} />\n                    </label>\n\n                    <label htmlFor=\"female\">\n                        Female: <input type=\"radio\" id=\"female\" name=\"gender\"\n                        value=\"female\" onChange={handleChangeInput} />\n                    </label>\n\n                    <label htmlFor=\"other\">\n                        Other: <input type=\"radio\" id=\"other\" name=\"gender\"\n                        value=\"other\" onChange={handleChangeInput} />\n                    </label>\n                </div>\n                \n                <button type=\"submit\" className=\"btn btn-dark w-100\">\n                    Register\n                </button>\n\n                <p className=\"my-2\">\n                    Already have an account? <Link to=\"/\" style={{color: \"crimson\"}}>Login Now</Link>\n                </p>\n            </form>\n        </div>\n    )\n}\n\nexport default Register\n","import React from 'react'\nimport Avatar from '../Avatar'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Status = () => {\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    return (\n        <div className=\"status my-3 d-flex\">\n            <Avatar src={auth.user.avatar} size=\"big-avatar\" />\n            \n            <button className=\"statusBtn flex-fill\"\n            onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}>\n                {auth.user.username}, what are you thinking?\n            </button>\n        </div>\n    )\n}\n\nexport default Status\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport PostCard from '../PostCard'\n\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { POST_TYPES } from '../../redux/actions/postAction'\n\n\nconst Posts = () => {\n    const { homePosts, auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token)\n\n        dispatch({\n            type: POST_TYPES.GET_POSTS, \n            payload: {...res.data, page: homePosts.page + 1}\n        })\n\n        setLoad(false)\n    }\n\n    return (\n        <div className=\"post_thumb\">\n            {\n                homePosts.posts.map(post => (\n                    <PostCard key={post._id} post={post} theme={theme} />\n                ))\n            }\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={homePosts.result} page={homePosts.page}\n            load={load} handleLoadMore={handleLoadMore} />\n        </div>\n    )\n}\n\nexport default Posts\n","import React, { useEffect } from 'react'\n\nimport Status from '../components/home/Status'\nimport Posts from '../components/home/Posts'\n \n\nimport { useSelector } from 'react-redux'\nimport LoadIcon from '../images/loading.gif'\n\n\nlet scroll = 0;\n\nconst Home = () => {\n    const { homePosts } = useSelector(state => state)\n\n    window.addEventListener('scroll', () => {\n        if(window.location.pathname === '/'){\n            scroll = window.pageYOffset\n            return scroll;\n        }\n    })\n\n    useEffect(() => {\n        setTimeout(() => {\n            window.scrollTo({top: scroll, behavior: 'smooth'})\n        }, 100)\n    },[])\n\n    return (\n        <div className=\"home mx-0\">\n            \n                <Status />\n\n                {\n                    homePosts.loading \n                    ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n                    : (homePosts.result === 0 && homePosts.posts.length === 0)\n                        ? <h2 className=\"text-center\">No Post</h2>\n                        : <Posts />\n                }\n                \n           \n            \n           \n        </div>\n    )\n}\n\nexport default Home\n","import React, { useState, useEffect, useRef } from 'react'\nimport UserCard from '../UserCard'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { MESS_TYPES, getConversations } from '../../redux/actions/messageAction'\n\n\nconst LeftSide = () => {\n    const { auth, message, online } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [search, setSearch] = useState('')\n    const [searchUsers, setSearchUsers] = useState([])\n\n    const history = useHistory()\n    const { id } = useParams()\n\n    const pageEnd = useRef()\n    const [page, setPage] = useState(0)\n\n    \n    const handleSearch = async e => {\n        e.preventDefault()\n        if(!search) return setSearchUsers([]);\n\n        try {\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\n            setSearchUsers(res.data.users)\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\n            })\n        }\n    }\n\n    const handleAddUser = (user) => {\n        setSearch('')\n        setSearchUsers([])\n        dispatch({type: MESS_TYPES.ADD_USER, payload: {...user, text: '', media: []}})\n        dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\n        return history.push(`/message/${user._id}`)\n    }\n\n    const isActive = (user) => {\n        if(id === user._id) return 'active';\n        return ''\n    }\n\n    useEffect(() => {\n        if(message.firstLoad) return;\n        dispatch(getConversations({auth}))\n    },[dispatch, auth, message.firstLoad])\n\n    // Load More\n    useEffect(() => {\n        const observer = new IntersectionObserver(entries => {\n            if(entries[0].isIntersecting){\n                setPage(p => p + 1)\n            }\n        },{\n            threshold: 0.1\n        })\n\n        observer.observe(pageEnd.current)\n    },[setPage])\n\n    useEffect(() => {\n        if(message.resultUsers >= (page - 1) * 9 && page > 1){\n            dispatch(getConversations({auth, page}))\n        }\n    },[message.resultUsers, page, auth, dispatch])\n    \n\n    // Check User Online - Offline\n    useEffect(() => {\n        if(message.firstLoad) {\n            dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\n        }\n    },[online, message.firstLoad, dispatch])\n\n    return (\n        <>\n            <form className=\"message_header\" onSubmit={handleSearch} >\n                <input type=\"text\" value={search}\n                placeholder=\"Enter to Search...\"\n                onChange={e => setSearch(e.target.value)} />\n\n                <button type=\"submit\" style={{display: 'none'}}>Search</button>\n            </form>\n\n            <div className=\"message_chat_list\">\n                {\n                    searchUsers.length !== 0\n                    ?  <>\n                        {\n                            searchUsers.map(user => (\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\n                                onClick={() => handleAddUser(user)}>\n                                    <UserCard user={user} />\n                                </div>\n                            ))\n                        }\n                        \n                    </>\n                    : <>\n                        {\n                            message.users.map(user => (\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\n                                onClick={() => handleAddUser(user)}>\n                                    <UserCard user={user} msg={true}>\n                                        {\n                                            user.online\n                                            ? <i className=\"fas fa-circle text-success\" />\n                                            : auth.user.following.find(item => \n                                                item._id === user._id\n                                            ) && <i className=\"fas fa-circle\" />\n                                                \n                                        }\n                                        \n                                    </UserCard>\n                                </div>\n                            ))\n                        }\n                    </>\n                }\n               \n               <button ref={pageEnd} style={{opacity: 0}} >Load More</button>\n            </div>\n        </>\n    )\n}\n\nexport default LeftSide\n","export const BASE_URL = 'https://v-network-devat.herokuapp.com'","import React from 'react'\nimport Avatar from '../../Avatar'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport moment from 'moment'\nimport { GLOBALTYPES } from '../../../redux/actions/globalTypes'\nimport { deletePost } from '../../../redux/actions/postAction'\nimport { BASE_URL } from '../../../utils/config'\n\nconst CardHeader = ({post}) => {\n    const { auth, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const history = useHistory()\n\n    const handleEditPost = () => {\n        dispatch({ type: GLOBALTYPES.STATUS, payload: {...post, onEdit: true}})\n    }\n\n    const handleDeletePost = () => {\n        if(window.confirm(\"Are you sure want to delete this post?\")){\n            dispatch(deletePost({post, auth, socket}))\n            return history.push(\"/\")\n        }\n    }\n\n    const handleCopyLink = () => {\n        navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`)\n    }\n\n    return (\n        <div className=\"card_header\">\n            <div className=\"d-flex\">\n                <Avatar src={post.user.avatar} size=\"big-avatar\" />\n\n                <div className=\"card_name\">\n                    <h6 className=\"m-0\">\n                        <Link to={`/profile/${post.user._id}`} className=\"text-dark\">\n                            {post.user.username}\n                        </Link>\n                    </h6>\n                    <small className=\"text-muted\">\n                        {moment(post.createdAt).fromNow()}\n                    </small>\n                </div>\n            </div>\n\n            <div className=\"nav-item dropdown\">\n                <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\n                    more_horiz\n                </span>\n\n                <div className=\"dropdown-menu\">\n                    {\n                        auth.user._id === post.user._id &&\n                        <>\n                            <div className=\"dropdown-item\" onClick={handleEditPost}>\n                                <span className=\"material-icons\">create</span> Edit Post\n                            </div>\n                            <div className=\"dropdown-item\" onClick={handleDeletePost} >\n                                <span className=\"material-icons\">delete_outline</span> Remove Post\n                            </div>\n                        </>\n                    }\n\n                    <div className=\"dropdown-item\" onClick={handleCopyLink}>\n                        <span className=\"material-icons\">content_copy</span> Copy Link\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CardHeader\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Carousel = ({images, id}) => {\n    const isActive = index => {\n        if(index === 0) return \"active\";\n    }\n\n    const { theme } = useSelector(state => state)\n\n    return (\n        <div id={`image${id}`} className=\"carousel slide\" data-ride=\"carousel\">\n            <ol className=\"carousel-indicators\" style={{zIndex: 1}}>\n                {\n                    images.map((img, index) => (\n                        <li key={index} data-target={`#image${id}`} \n                        data-slide-to={index} className={isActive(index)} />\n                    ))\n                }\n                \n            </ol>\n\n            <div className=\"carousel-inner\">\n                {\n                    images.map((img, index) => (\n                        <div key={index} className={`carousel-item ${isActive(index)}`}>\n                            {\n                                img.url.match(/video/i)\n                                ? <video controls src={img.url} className=\"d-block w-100\" alt={img.url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n\n                                : <img src={img.url} className=\"d-block w-100\" alt={img.url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                            }\n                           \n                        </div>\n                    ))\n                }\n                \n            </div>\n            \n            {\n                images.length > 1 &&\n                <>\n                    <a className=\"carousel-control-prev\" href={`#image${id}`} role=\"button\" data-slide=\"prev\"\n                    style={{width: '5%'}}>\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                        <span className=\"sr-only\">Previous</span>\n                    </a>\n\n                    <a className=\"carousel-control-next\" href={`#image${id}`} role=\"button\" data-slide=\"next\"\n                    style={{width: '5%'}}>\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                        <span className=\"sr-only\">Next</span>\n                    </a>\n                </>\n            }\n            \n        </div>\n    )\n}\n\nexport default Carousel\n","import React, { useState } from 'react'\nimport Carousel from '../../Carousel'\n\nconst CardBody = ({post, theme}) => {\n    const [readMore, setReadMore] = useState(false)\n\n    \n    return (\n        <div className=\"card_body\">\n            <div className=\"card_body-content\" \n            style={{\n                filter: theme ? 'invert(1)' : 'invert(0)',\n                color: theme ? 'white' : '#111',\n            }}>\n                <span>\n                    {\n                        post.content.length < 60 \n                        ? post.content \n                        : readMore ? post.content + ' ' : post.content.slice(0, 60) + '.....'\n                    }\n                </span>\n                {\n                    post.content.length > 60 &&\n                    <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\n                        {readMore ? 'Hide content' : 'Read more'}\n                    </span>\n                }\n\n            </div>\n            {\n                post.images.length > 0 && <Carousel images={post.images} id={post._id} />\n            }\n        </div>\n    )\n}\n\nexport default CardBody\n","export default __webpack_public_path__ + \"static/media/send.fab9d966.svg\";","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst LikeButton = ({isLike, handleLike, handleUnLike}) => {\n    const { theme } = useSelector(state => state)\n\n    return (\n        <>\n            {\n                isLike\n                ? <i className=\"fas fa-heart text-danger\" onClick={handleUnLike}\n                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                : <i className=\"far fa-heart\" onClick={handleLike} />\n            }\n        </>\n    )\n}\n\nexport default LikeButton\n","import React from 'react'\nimport {\n    EmailShareButton, EmailIcon,\n    FacebookShareButton, FacebookIcon,\n    TelegramShareButton, TelegramIcon,\n    TwitterShareButton, TwitterIcon,\n    WhatsappShareButton, WhatsappIcon,\n    RedditShareButton, RedditIcon\n} from 'react-share'\n\nconst ShareModal = ({url, theme}) => {\n    return (\n        <div className=\"d-flex justify-content-between px-4 py-2\"\n        style={{filter: theme ? 'invert(1)' : 'invert(0)' }}>\n            <FacebookShareButton url={url} >\n                <FacebookIcon round={true} size={32} />\n            </FacebookShareButton>\n\n            <TwitterShareButton url={url} >\n                <TwitterIcon round={true} size={32} />\n            </TwitterShareButton>\n\n            <EmailShareButton url={url} >\n                <EmailIcon round={true} size={32} />\n            </EmailShareButton>\n\n            <RedditShareButton url={url} >\n                <RedditIcon round={true} size={32} />\n            </RedditShareButton>\n\n            <TelegramShareButton url={url} >\n                <TelegramIcon round={true} size={32} />\n            </TelegramShareButton>\n\n            <WhatsappShareButton url={url} >\n                <WhatsappIcon round={true} size={32} />\n            </WhatsappShareButton>\n        </div>\n    )\n}\n\nexport default ShareModal\n","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport Send from '../../../images/send.svg'\nimport LikeButton from '../../LikeButton'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { likePost, unLikePost, savePost, unSavePost } from '../../../redux/actions/postAction'\nimport ShareModal from '../../ShareModal'\nimport { BASE_URL } from '../../../utils/config'\n\n\nconst CardFooter = ({post}) => {\n    const [isLike, setIsLike] = useState(false)\n    const [loadLike, setLoadLike] = useState(false)\n\n    const [isShare, setIsShare] = useState(false)\n\n    const { auth, theme, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [saved, setSaved] = useState(false)\n    const [saveLoad, setSaveLoad] = useState(false)\n\n    // Likes\n    useEffect(() => {\n        if(post.likes.find(like => like._id === auth.user._id)){\n            setIsLike(true)\n        }else{\n            setIsLike(false)\n        }\n    }, [post.likes, auth.user._id])\n\n    const handleLike = async () => {\n        if(loadLike) return;\n        \n        setLoadLike(true)\n        await dispatch(likePost({post, auth, socket}))\n        setLoadLike(false)\n    }\n\n    const handleUnLike = async () => {\n        if(loadLike) return;\n\n        setLoadLike(true)\n        await dispatch(unLikePost({post, auth, socket}))\n        setLoadLike(false)\n    }\n\n\n    // Saved\n    useEffect(() => {\n        if(auth.user.saved.find(id => id === post._id)){\n            setSaved(true)\n        }else{\n            setSaved(false)\n        }\n    },[auth.user.saved, post._id])\n\n    const handleSavePost = async () => {\n        if(saveLoad) return;\n        \n        setSaveLoad(true)\n        await dispatch(savePost({post, auth}))\n        setSaveLoad(false)\n    }\n\n    const handleUnSavePost = async () => {\n        if(saveLoad) return;\n\n        setSaveLoad(true)\n        await dispatch(unSavePost({post, auth}))\n        setSaveLoad(false)\n    }\n\n    return (\n        <div className=\"card_footer\">\n            <div className=\"card_icon_menu\">\n                <div>\n                    <LikeButton \n                    isLike={isLike}\n                    handleLike={handleLike}\n                    handleUnLike={handleUnLike}\n                    />\n\n                    <Link to={`/post/${post._id}`} className=\"text-dark\">\n                        <i className=\"far fa-comment\" />\n                    </Link>\n\n                    <img src={Send} alt=\"Send\" onClick={() => setIsShare(!isShare)} />\n                </div>\n\n                {\n                    saved \n                    ?  <i className=\"fas fa-bookmark text-info\"\n                    onClick={handleUnSavePost} />\n\n                    :  <i className=\"far fa-bookmark\"\n                    onClick={handleSavePost} />\n                }\n               \n            </div>\n\n            <div className=\"d-flex justify-content-between\">\n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\n                    {post.likes.length} likes\n                </h6>\n                \n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\n                    {post.comments.length} comments\n                </h6>\n            </div>\n\n            {\n                isShare && <ShareModal url={`${BASE_URL}/post/${post._id}`} theme={theme} />\n            }\n        </div>\n    )\n}\n\nexport default CardFooter\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteComment } from '../../../redux/actions/commentAction'\n\nconst CommentMenu = ({post, comment, setOnEdit}) => {\n\n    const { auth, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleRemove = () => {\n        if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\n            dispatch(deleteComment({post, auth, comment, socket}))\n        }\n    }\n\n    const MenuItem = () => {\n        return(\n            <>\n                <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\n                    <span className=\"material-icons\">create</span> Edit\n                </div>\n                <div className=\"dropdown-item\" onClick={handleRemove}>\n                    <span className=\"material-icons\">delete_outline</span> Remove\n                </div>\n            </>\n        )\n    }\n\n\n    return (\n        <div className=\"menu\">\n            {\n                (post.user._id === auth.user._id || comment.user._id === auth.user._id) &&\n                <div className=\"nav-item dropdown\">\n                    <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\n                        more_vert\n                    </span>\n\n                    <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\n                        {\n                            post.user._id === auth.user._id\n                            ? comment.user._id === auth.user._id\n                                ? MenuItem()\n                                : <div className=\"dropdown-item\" onClick={handleRemove}>\n                                    <span className=\"material-icons\">delete_outline</span> Remove\n                                </div>\n                            : comment.user._id === auth.user._id && MenuItem()\n                        }\n                    </div>\n\n                </div>\n            }\n            \n        </div>\n    )\n}\n\nexport default CommentMenu\n","import { GLOBALTYPES, EditData, DeleteData } from './globalTypes'\nimport { POST_TYPES } from './postAction'\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\nimport { createNotify, removeNotify } from '../actions/notifyAction'\n\n\nexport const createComment = ({post, newComment, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, comments: [...post.comments, newComment]}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        const data = {...newComment, postId: post._id, postUserId: post.user._id}\n        const res = await postDataAPI('comment', data, auth.token)\n\n        const newData = {...res.data.newComment, user: auth.user}\n        const newPost = {...post, comments: [...post.comments, newData]}\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n        // Socket\n        socket.emit('createComment', newPost)\n\n        // Notify\n        const msg = {\n            id: res.data.newComment._id,\n            text: newComment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\n            recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\n            url: `/post/${post._id}`,\n            content: post.content, \n            image: post.images[0].url\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n        \n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const updateComment = ({comment, post, content, auth}) => async (dispatch) => {\n    const newComments = EditData(post.comments, comment._id, {...comment, content})\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n    try {\n        patchDataAPI(`comment/${comment._id}`, { content }, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const likeComment = ({comment, post, auth}) => async (dispatch) => {\n    const newComment = {...comment, likes: [...comment.likes, auth.user]}\n\n    const newComments = EditData(post.comments, comment._id, newComment)\n\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        await patchDataAPI(`comment/${comment._id}/like`, null, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const unLikeComment = ({comment, post, auth}) => async (dispatch) => {\n\n    const newComment = {...comment, likes: DeleteData(comment.likes, auth.user._id)}\n\n    const newComments = EditData(post.comments, comment._id, newComment)\n\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const deleteComment = ({post, comment, auth, socket}) => async (dispatch) => {\n    const deleteArr = [...post.comments.filter(cm => cm.reply === comment._id), comment]\n    \n    const newPost = {\n        ...post,\n        comments: post.comments.filter(cm => !deleteArr.find(da => cm._id === da._id))\n    }\n\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    socket.emit('deleteComment', newPost)\n    try {\n       deleteArr.forEach(item => {\n            deleteDataAPI(`comment/${item._id}`, auth.token)\n\n            const msg = {\n                id: item._id,\n                text: comment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\n                recipients: comment.reply ? [comment.tag._id] : [post.user._id],\n                url: `/post/${post._id}`,\n            }\n    \n            dispatch(removeNotify({msg, auth, socket}))\n       })\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n\n}","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { createComment } from '../../redux/actions/commentAction'\nimport Icons from '../Icons'\n\nconst InputComment = ({children, post, onReply, setOnReply}) => {\n    const [content, setContent] = useState('')\n\n    const { auth, socket, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if(!content.trim()){\n            if(setOnReply) return setOnReply(false);\n            return;\n        }\n\n        setContent('')\n        \n        const newComment = {\n            content,\n            likes: [],\n            user: auth.user,\n            createdAt: new Date().toISOString(),\n            reply: onReply && onReply.commentId,\n            tag: onReply && onReply.user\n        }\n        \n        dispatch(createComment({post, newComment, auth, socket}))\n\n        if(setOnReply) return setOnReply(false);\n    }\n\n    return (\n        <form className=\"card-footer comment_input\" onSubmit={handleSubmit} >\n            {children}\n            <input type=\"text\" placeholder=\"Add your comments...\"\n            value={content} onChange={e => setContent(e.target.value)}\n            style={{\n                filter: theme ? 'invert(1)' : 'invert(0)',\n                color: theme ? 'white' : '#111',\n                background: theme ? 'rgba(0,0,0,.03)' : '',\n            }} />\n\n            <Icons setContent={setContent} content={content} theme={theme} />\n\n            <button type=\"submit\" className=\"postBtn\">\n                Post\n            </button>\n        </form>\n    )\n}\n\nexport default InputComment\n","import React, { useState, useEffect } from 'react'\nimport Avatar from '../../Avatar'\nimport { Link } from 'react-router-dom'\nimport moment from 'moment'\n\nimport LikeButton from '../../LikeButton'\nimport { useSelector, useDispatch } from 'react-redux'\nimport CommentMenu from './CommentMenu'\nimport { updateComment, likeComment, unLikeComment } from '../../../redux/actions/commentAction'\nimport InputComment from '../InputComment'\n\nconst CommentCard = ({children, comment, post, commentId}) => {\n    const { auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [content, setContent] = useState('')\n    const [readMore, setReadMore] = useState(false)\n\n    const [onEdit, setOnEdit] = useState(false)\n    const [isLike, setIsLike] = useState(false)\n    const [loadLike, setLoadLike] = useState(false)\n\n    const [onReply, setOnReply] = useState(false)\n\n\n    useEffect(() => {\n        setContent(comment.content)\n        setIsLike(false)\n        setOnReply(false)\n        if(comment.likes.find(like => like._id === auth.user._id)){\n            setIsLike(true)\n        }\n    },[comment, auth.user._id])\n\n    const handleUpdate = () => {\n        if(comment.content !== content){\n            dispatch(updateComment({comment, post, content, auth}))\n            setOnEdit(false)\n        }else{\n            setOnEdit(false)\n        }\n    }\n\n\n    const handleLike = async () => {\n        if(loadLike) return;\n        setIsLike(true)\n\n        setLoadLike(true)\n        await dispatch(likeComment({comment, post, auth}))\n        setLoadLike(false)\n    }\n\n    const handleUnLike = async () => {\n        if(loadLike) return;\n        setIsLike(false)\n\n        setLoadLike(true)\n        await dispatch(unLikeComment({comment, post, auth}))\n        setLoadLike(false)\n    }\n\n\n    const handleReply = () => {\n        if(onReply) return setOnReply(false)\n        setOnReply({...comment, commentId})\n    }\n\n    const styleCard = {\n        opacity: comment._id ? 1 : 0.5,\n        pointerEvents: comment._id ? 'inherit' : 'none'\n    }\n\n    return (\n        <div className=\"comment_card mt-2\" style={styleCard}>\n            <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\n                <Avatar src={comment.user.avatar} size=\"small-avatar\" />\n                <h6 className=\"mx-1\">{comment.user.username}</h6>\n            </Link>\n\n            <div className=\"comment_content\">\n                <div className=\"flex-fill\" \n                style={{\n                    filter: theme ? 'invert(1)' : 'invert(0)',\n                    color: theme ? 'white' : '#111',\n                }}>\n                    {\n                        onEdit \n                        ? <textarea rows=\"5\" value={content}\n                        onChange={e => setContent(e.target.value)} />\n\n                        : <div>\n                            {\n                                comment.tag && comment.tag._id !== comment.user._id &&\n                                <Link to={`/profile/${comment.tag._id}`} className=\"mr-1\">\n                                    @{comment.tag.username}\n                                </Link>\n                            }\n                            <span>\n                                {\n                                    content.length < 100 ? content :\n                                    readMore ? content + ' ' : content.slice(0, 100) + '....'\n                                }\n                            </span>\n                            {\n                                content.length > 100 &&\n                                <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\n                                    {readMore ? 'Hide content' : 'Read more'}\n                                </span>\n                            }\n                        </div>\n                    }\n                    \n\n                    <div style={{cursor: 'pointer'}}>\n                        <small className=\"text-muted mr-3\">\n                            {moment(comment.createdAt).fromNow()}\n                        </small>\n\n                        <small className=\"font-weight-bold mr-3\">\n                            {comment.likes.length} likes\n                        </small>\n\n                        {\n                            onEdit\n                            ? <>\n                                <small className=\"font-weight-bold mr-3\"\n                                onClick={handleUpdate}>\n                                    update\n                                </small>\n                                <small className=\"font-weight-bold mr-3\"\n                                onClick={() => setOnEdit(false)}>\n                                    cancel\n                                </small>\n                            </>\n\n                            : <small className=\"font-weight-bold mr-3\"\n                            onClick={handleReply}>\n                                {onReply ? 'cancel' :'reply'}\n                            </small>\n                        }\n                        \n                    </div>\n                    \n                </div>\n\n\n                <div className=\"d-flex align-items-center mx-2\" style={{cursor: 'pointer'}}>\n                    <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\n                    <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\n                </div>\n            </div> \n            \n            {\n                onReply &&\n                <InputComment post={post} onReply={onReply} setOnReply={setOnReply} >\n                    <Link to={`/profile/${onReply.user._id}`} className=\"mr-1\">\n                        @{onReply.user.username}:\n                    </Link>\n                </InputComment>\n            }\n\n            {children}\n        </div>\n    )\n}\n\nexport default CommentCard\n","import React, { useState, useEffect } from 'react'\nimport CommentCard from './CommentCard'\n\nconst CommentDisplay = ({comment, post, replyCm}) => {\n    const [showRep, setShowRep] = useState([])\n    const [next, setNext] = useState(1)\n\n    useEffect(() => {\n        setShowRep(replyCm.slice(replyCm.length - next))\n    },[replyCm, next])\n\n    return (\n        <div className=\"comment_display\">\n            <CommentCard comment={comment} post={post} commentId={comment._id} >\n                <div className=\"pl-4\">\n                    {\n                        showRep.map((item, index) => (\n                            item.reply &&\n                            <CommentCard\n                            key={index}\n                            comment={item}\n                            post={post}\n                            commentId={comment._id}\n                             />\n                        ))\n                    }\n\n                    {\n                        replyCm.length - next > 0\n                        ? <div style={{cursor: 'pointer', color: 'crimson'}}\n                        onClick={() => setNext(next + 10)}>\n                            See more comments...\n                        </div>\n\n                        : replyCm.length > 1 &&\n                        <div style={{cursor: 'pointer', color: 'crimson'}}\n                        onClick={() => setNext(1)}>\n                            Hide comments...\n                        </div>\n                    }\n                </div>\n            </CommentCard>\n        </div>\n    )\n}\n\nexport default CommentDisplay\n","import React, { useState, useEffect } from 'react'\nimport CommentDisplay from './comments/CommentDisplay'\n\nconst Comments = ({post}) => {\n    const [comments, setComments] = useState([])\n    const [showComments, setShowComments] = useState([])\n    const [next, setNext] = useState(2)\n\n    const [replyComments, setReplyComments] = useState([])\n\n    useEffect(() => {\n        const newCm = post.comments.filter(cm => !cm.reply)\n        setComments(newCm)\n        setShowComments(newCm.slice(newCm.length - next))\n    },[post.comments, next])\n\n    useEffect(()=> {\n        const newRep = post.comments.filter(cm => cm.reply)\n        setReplyComments(newRep)\n    }, [post.comments])\n\n    return (\n        <div className=\"comments\">\n            {\n                showComments.map((comment, index) => (\n                    <CommentDisplay key={index} comment={comment} post={post}\n                    replyCm={replyComments.filter(item => item.reply === comment._id)} />\n                ))\n            }\n\n            {\n                comments.length - next > 0\n                ? <div className=\"p-2 border-top\"\n                style={{cursor: 'pointer', color: 'crimson'}}\n                onClick={() => setNext(next + 10)}>\n                    See more comments...\n                </div>\n\n                : comments.length > 2 &&\n                <div className=\"p-2 border-top\"\n                style={{cursor: 'pointer', color: 'crimson'}}\n                onClick={() => setNext(2)}>\n                    Hide comments...\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default Comments\n","import React from 'react'\nimport CardHeader from './home/post_card/CardHeader'\nimport CardBody from './home/post_card/CardBody'\nimport CardFooter from './home/post_card/CardFooter'\n\nimport Comments from './home/Comments'\nimport InputComment from './home/InputComment'\n\nconst PostCard = ({post, theme}) => {\n    return (\n        <div className=\"card my-3\"> \n            <CardHeader post={post} />\n            <CardBody post={post} theme={theme} />\n            <CardFooter post={post} />\n\n            <Comments post={post} />\n            <InputComment post={post} />\n        </div>\n    )\n}\n\nexport default PostCard\n","import axios from 'axios'\n\nexport const getDataAPI = async (url, token) => {\n    const res = await axios.get(`/api/${url}`, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const postDataAPI = async (url, post, token) => {\n    const res = await axios.post(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const putDataAPI = async (url, post, token) => {\n    const res = await axios.put(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const patchDataAPI = async (url, post, token) => {\n    const res = await axios.patch(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const deleteDataAPI = async (url, token) => {\n    const res = await axios.delete(`/api/${url}`, {\n        headers: { Authorization: token}\n    })\n    return res;\n}","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDiscoverPosts, DISCOVER_TYPES } from '../redux/actions/discoverAction'\nimport LoadIcon from '../images/loading.gif'\nimport PostThumb from '../components/PostThumb'\nimport LoadMoreBtn from '../components/LoadMoreBtn'\nimport { getDataAPI} from '../utils/fetchData'\n\nconst Discover = () => {\n    const { auth, discover } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        if(!discover.firstLoad){\n            dispatch(getDiscoverPosts(auth.token))\n        }\n    },[dispatch, auth.token, discover.firstLoad])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`post_discover?num=${discover.page * 9}`, auth.token)\n        dispatch({type: DISCOVER_TYPES.UPDATE_POST, payload: res.data})\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            {\n                discover.loading \n                ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n                : <PostThumb posts={discover.posts} result={discover.result} />\n            }\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            {\n                !discover.loading &&\n                <LoadMoreBtn result={discover.result} page={discover.page}\n                load={load} handleLoadMore={handleLoadMore} />\n            }\n            \n        </div>\n    )\n}\n\nexport default Discover\n","import { GLOBALTYPES } from './globalTypes'\nimport { imageUpload } from '../../utils/imageUpload'\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\nimport { createNotify, removeNotify } from './notifyAction'\n\nexport const POST_TYPES = {\n    CREATE_POST: 'CREATE_POST',\n    LOADING_POST: 'LOADING_POST',\n    GET_POSTS: 'GET_POSTS',\n    UPDATE_POST: 'UPDATE_POST',\n    GET_POST: 'GET_POST',\n    DELETE_POST: 'DELETE_POST'\n}\n\n\nexport const createPost = ({content, images, auth, socket}) => async (dispatch) => {\n    let media = []\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n        if(images.length > 0) media = await imageUpload(images)\n\n        const res = await postDataAPI('posts', { content, images: media }, auth.token)\n\n        dispatch({ \n            type: POST_TYPES.CREATE_POST, \n            payload: {...res.data.newPost, user: auth.user} \n        })\n\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: false} })\n\n        // Notify\n        const msg = {\n            id: res.data.newPost._id,\n            text: 'added a new post.',\n            recipients: res.data.newPost.user.followers,\n            url: `/post/${res.data.newPost._id}`,\n            content, \n            image: media[0].url\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const getPosts = (token) => async (dispatch) => {\n    try {\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: true })\n        const res = await getDataAPI('posts', token)\n        \n        dispatch({\n            type: POST_TYPES.GET_POSTS,\n            payload: {...res.data, page: 2}\n        })\n\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: false })\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const updatePost = ({content, images, auth, status}) => async (dispatch) => {\n    let media = []\n    const imgNewUrl = images.filter(img => !img.url)\n    const imgOldUrl = images.filter(img => img.url)\n\n    if(status.content === content \n        && imgNewUrl.length === 0\n        && imgOldUrl.length === status.images.length\n    ) return;\n\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n        if(imgNewUrl.length > 0) media = await imageUpload(imgNewUrl)\n\n        const res = await patchDataAPI(`post/${status._id}`, { \n            content, images: [...imgOldUrl, ...media] \n        }, auth.token)\n\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost })\n\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {success: res.data.msg} })\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const likePost = ({post, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, likes: [...post.likes, auth.user]}\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\n\n    socket.emit('likePost', newPost)\n\n    try {\n        await patchDataAPI(`post/${post._id}/like`, null, auth.token)\n        \n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'like your post.',\n            recipients: [post.user._id],\n            url: `/post/${post._id}`,\n            content: post.content, \n            image: post.images[0].url\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const unLikePost = ({post, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, likes: post.likes.filter(like => like._id !== auth.user._id)}\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\n\n    socket.emit('unLikePost', newPost)\n\n    try {\n        await patchDataAPI(`post/${post._id}/unlike`, null, auth.token)\n\n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'like your post.',\n            recipients: [post.user._id],\n            url: `/post/${post._id}`,\n        }\n        dispatch(removeNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const getPost = ({detailPost, id, auth}) => async (dispatch) => {\n    if(detailPost.every(post => post._id !== id)){\n        try {\n            const res = await getDataAPI(`post/${id}`, auth.token)\n            dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post })\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT,\n                payload: {error: err.response.data.msg}\n            })\n        }\n    }\n}\n\nexport const deletePost = ({post, auth, socket}) => async (dispatch) => {\n    dispatch({ type: POST_TYPES.DELETE_POST, payload: post })\n\n    try {\n        const res = await deleteDataAPI(`post/${post._id}`, auth.token)\n\n        // Notify\n        const msg = {\n            id: post._id,\n            text: 'added a new post.',\n            recipients: res.data.newPost.user.followers,\n            url: `/post/${post._id}`,\n        }\n        dispatch(removeNotify({msg, auth, socket}))\n        \n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const savePost = ({post, auth}) => async (dispatch) => {\n    const newUser = {...auth.user, saved: [...auth.user.saved, post._id]}\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n\n    try {\n        await patchDataAPI(`savePost/${post._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const unSavePost = ({post, auth}) => async (dispatch) => {\n    const newUser = {...auth.user, saved: auth.user.saved.filter(id => id !== post._id) }\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n\n    try {\n        await patchDataAPI(`unSavePost/${post._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getPost } from '../../redux/actions/postAction'\nimport LoadIcon from '../../images/loading.gif'\nimport PostCard from '../../components/PostCard'\n\n\nconst Post = () => {\n    const { id } = useParams()\n    const [post, setPost] = useState([])\n\n    const { auth, detailPost } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getPost({detailPost, id, auth}))\n\n        if(detailPost.length > 0){\n            const newArr = detailPost.filter(post => post._id === id)\n            setPost(newArr)\n        }\n    },[detailPost, dispatch, id, auth])\n\n    return (\n        <div className=\"posts\">\n            {\n                post.length === 0 &&\n                <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n            }\n\n            {\n                post.map(item => (\n                    <PostCard key={item._id} post={item} />\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Post\n","import { GLOBALTYPES } from './globalTypes'\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData'\n\nexport const NOTIFY_TYPES = {\n    GET_NOTIFIES: 'GET_NOTIFIES',\n    CREATE_NOTIFY: 'CREATE_NOTIFY',\n    REMOVE_NOTIFY: 'REMOVE_NOTIFY',\n    UPDATE_NOTIFY: 'UPDATE_NOTIFY',\n    UPDATE_SOUND: 'UPDATE_SOUND',\n    DELETE_ALL_NOTIFIES: 'DELETE_ALL_NOTIFIES'\n}\n\nexport const createNotify = ({msg, auth, socket}) => async (dispatch) => {\n    try {\n        const res = await postDataAPI('notify', msg, auth.token)\n\n        socket.emit('createNotify', {\n            ...res.data.notify,\n            user: {\n                username: auth.user.username,\n                avatar: auth.user.avatar\n            }\n        })\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const removeNotify = ({msg, auth, socket}) => async (dispatch) => {\n    try {\n        await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token)\n        \n        socket.emit('removeNotify', msg)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getNotifies = (token) => async (dispatch) => {\n    try {\n        const res = await getDataAPI('notifies', token)\n        \n        dispatch({ type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies })\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\n\nexport const isReadNotify = ({msg, auth}) => async (dispatch) => {\n    dispatch({type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: {...msg, isRead: true}})\n    try {\n        await patchDataAPI(`/isReadNotify/${msg._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteAllNotifies = (token) => async (dispatch) => {\n    dispatch({type: NOTIFY_TYPES.DELETE_ALL_NOTIFIES, payload: []})\n    try {\n        await deleteDataAPI('deleteAllNotify', token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { checkImage } from '../../utils/imageUpload'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { updateProfileUser } from '../../redux/actions/profileAction'\n\nconst EditProfile = ({setOnEdit}) => {\n    const initState = {\n        fullname: '', mobile: '', address: '', website: '', story: '', gender: ''\n    }\n    const [userData, setUserData] = useState(initState)\n    const { fullname, mobile, address, website, story, gender } = userData\n\n    const [avatar, setAvatar] = useState('')\n\n    const { auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        setUserData(auth.user)\n    }, [auth.user])\n\n\n    const changeAvatar = (e) => {\n        const file = e.target.files[0]\n\n        const err = checkImage(file)\n        if(err) return dispatch({\n            type: GLOBALTYPES.ALERT, payload: {error: err}\n        })\n\n        setAvatar(file)\n    }\n\n    const handleInput = e => {\n        const { name, value } = e.target\n        setUserData({ ...userData, [name]:value })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        dispatch(updateProfileUser({userData, avatar, auth}))\n    }\n\n    return (\n        <div className=\"edit_profile\">\n            <button className=\"btn btn-danger btn_close\"\n            onClick={() => setOnEdit(false)}>\n                Close\n            </button>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"info_avatar\">\n                    <img src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar} \n                    alt=\"avatar\" style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                    <span>\n                        <i className=\"fas fa-camera\" />\n                        <p>Change</p>\n                        <input type=\"file\" name=\"file\" id=\"file_up\"\n                        accept=\"image/*\" onChange={changeAvatar} />\n                    </span>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"fullname\">Full Name</label>\n                    <div className=\"position-relative\">\n                        <input type=\"text\" className=\"form-control\" id=\"fullname\"\n                        name=\"fullname\" value={fullname} onChange={handleInput} />\n                        <small className=\"text-danger position-absolute\"\n                        style={{top: '50%', right: '5px', transform: 'translateY(-50%)'}}>\n                            {fullname.length}/25\n                        </small>\n                    </div>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"mobile\">Mobile</label>\n                    <input type=\"text\" name=\"mobile\" value={mobile}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"address\">Address</label>\n                    <input type=\"text\" name=\"address\" value={address}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"website\">Website</label>\n                    <input type=\"text\" name=\"website\" value={website}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"story\">Story</label>\n                    <textarea name=\"story\" value={story} cols=\"30\" rows=\"4\"\n                    className=\"form-control\" onChange={handleInput} />\n\n                    <small className=\"text-danger d-block text-right\">\n                        {story.length}/200\n                    </small>\n                </div>\n\n                <label htmlFor=\"gender\">Gender</label>\n                <div className=\"input-group-prepend px-0 mb-4\">\n                    <select name=\"gender\" id=\"gender\" value={gender}\n                    className=\"custom-select text-capitalize\"\n                    onChange={handleInput}>\n                        <option value=\"male\">Male</option>\n                        <option value=\"female\">Female</option>\n                        <option value=\"other\">Other</option>\n                    </select>\n                </div>\n\n                <button className=\"btn btn-info w-100\" type=\"submit\">Save</button>\n            </form>\n        </div>\n    )\n}\n\nexport default EditProfile\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { follow, unfollow } from '../redux/actions/profileAction'\n\nconst FollowBtn = ({user}) => {\n    const [followed, setFollowed] = useState(false)\n\n    const { auth, profile, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        if(auth.user.following.find(item => item._id === user._id)){\n            setFollowed(true)\n        }\n        return () => setFollowed(false)\n    }, [auth.user.following, user._id])\n\n    const handleFollow =  async () => {\n        if(load) return;\n\n        setFollowed(true)\n        setLoad(true)\n        await dispatch(follow({users: profile.users, user, auth, socket}))\n        setLoad(false)\n    }\n\n    const handleUnFollow = async () => {\n        if(load) return;\n\n        setFollowed(false)\n        setLoad(true)\n        await dispatch(unfollow({users: profile.users, user, auth, socket}))\n        setLoad(false)\n    }\n\n    return (\n        <>\n        {\n            followed\n            ? <button className=\"btn btn-outline-danger\"\n            onClick={handleUnFollow}>\n                UnFollow\n            </button>\n            : <button className=\"btn btn-outline-info\"\n            onClick={handleFollow}>\n                Follow\n            </button>\n        }\n        </>\n    )\n}\n\nexport default FollowBtn\n","import React from 'react'\nimport UserCard from '../UserCard'\nimport FollowBtn from '../FollowBtn'\nimport { useSelector } from 'react-redux'\n\nconst Followers = ({users, setShowFollowers}) => {\n    const { auth } = useSelector(state => state)\n    return (\n        <div className=\"follow\">\n            <div className=\"follow_box\">\n                <h5 className=\"text-center\">Followers</h5>\n                <hr/>\n                \n                <div className=\"follow_content\">\n                    {\n                        users.map(user => (\n                            <UserCard key={user._id} user={user} setShowFollowers={setShowFollowers} >\n                                {\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\n                                }\n                            </UserCard>\n                        ))\n                    }\n                </div>\n                \n\n                <div className=\"close\" onClick={() => setShowFollowers(false)}>\n                    &times;\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Followers\n","import React from 'react'\nimport UserCard from '../UserCard'\nimport FollowBtn from '../FollowBtn'\nimport { useSelector } from 'react-redux'\n\nconst Following = ({users, setShowFollowing}) => {\n    const { auth } = useSelector(state => state)\n    return (\n        <div className=\"follow\">\n            <div className=\"follow_box\">\n                <h5 className=\"text-center\">Following</h5>\n                <hr/>\n\n                <div className=\"follow_content\">\n                    {\n                        users.map(user => (\n                            <UserCard key={user._id} user={user} setShowFollowing={setShowFollowing} >\n                                {\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\n                                }\n                            </UserCard>\n                        ))\n                    }\n                </div>\n\n                <div className=\"close\" onClick={() => setShowFollowing(false)}>\n                    &times;\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Following\n","import React, { useState, useEffect } from 'react'\nimport Avatar from '../Avatar'\nimport EditProfile from './EditProfile'\nimport FollowBtn from '../FollowBtn'\nimport Followers from './Followers'\nimport Following from './Following'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Info = ({id, auth, profile, dispatch}) => {\n    const [userData, setUserData] = useState([])\n    const [onEdit, setOnEdit] = useState(false)\n\n    const [showFollowers, setShowFollowers] = useState(false)\n    const [showFollowing, setShowFollowing] = useState(false)\n\n    useEffect(() => {\n        if(id === auth.user._id){\n            setUserData([auth.user])\n        }else{\n            const newData = profile.users.filter(user => user._id === id)\n            setUserData(newData)\n        }\n    }, [id, auth, dispatch, profile.users])\n\n\n    useEffect(() => {\n        if(showFollowers || showFollowing || onEdit){\n            dispatch({ type: GLOBALTYPES.MODAL, payload: true})\n        }else{\n            dispatch({ type: GLOBALTYPES.MODAL, payload: false})\n        }\n    },[showFollowers, showFollowing, onEdit, dispatch])\n    \n\n    return (\n        <div className=\"info\">\n            {\n                userData.map(user => (\n                    <div className=\"info_container\" key={user._id}>\n                        <Avatar src={user.avatar} size=\"supper-avatar\" />\n\n                        <div className=\"info_content\">\n                            <div className=\"info_content_title\">\n                                <h2>{user.username}</h2>\n                                {\n                                    user._id === auth.user._id\n                                    ?  <button className=\"btn btn-outline-info\"\n                                    onClick={() => setOnEdit(true)}>\n                                        Edit Profile\n                                    </button>\n                                    \n                                    : <FollowBtn user={user} />\n                                }\n                               \n                                \n                            </div>\n\n                            <div className=\"follow_btn\">\n                                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\n                                    {user.followers.length} Followers\n                                </span>\n                                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\n                                    {user.following.length} Following\n                                </span>\n                            </div>\n\n                            <h6>{user.fullname} <span className=\"text-danger\">{user.mobile}</span></h6>\n                            <p className=\"m-0\">{user.address}</p>\n                            <h6 className=\"m-0\">{user.email}</h6>\n                            <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\n                                {user.website}\n                            </a>\n                            <p>{user.story}</p>\n                        </div>\n\n                        {\n                            onEdit && <EditProfile setOnEdit={setOnEdit} />\n                        }\n\n                        {\n                            showFollowers &&\n                            <Followers \n                            users={user.followers} \n                            setShowFollowers={setShowFollowers} \n                            />\n                        }\n                        {\n                            showFollowing &&\n                            <Following \n                            users={user.following} \n                            setShowFollowing={setShowFollowing} \n                            />\n                        }\n                    </div>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Info\n","import React, { useState, useEffect } from 'react'\nimport PostThumb from '../PostThumb'\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { PROFILE_TYPES } from '../../redux/actions/profileAction'\n\nconst Posts = ({auth, id, dispatch, profile}) => {\n    const [posts, setPosts] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(0)\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        profile.posts.forEach(data => {\n            if(data._id === id){\n                setPosts(data.posts)\n                setResult(data.result)\n                setPage(data.page)\n            }\n        })\n    },[profile.posts, id])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`user_posts/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, page: page + 1, _id: id}\n        dispatch({type: PROFILE_TYPES.UPDATE_POST, payload: newData})\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            <PostThumb posts={posts} result={result} />\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={result} page={page}\n            load={load} handleLoadMore={handleLoadMore} />\n            \n        </div>\n    )\n}\n\nexport default Posts\n","import React, { useState, useEffect } from 'react'\nimport PostThumb from '../PostThumb'\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Saved = ({auth, dispatch}) => {\n    const [savePosts, setSavePosts] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(2)\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        setLoad(true)\n        getDataAPI('getSavePosts', auth.token)\n        .then(res => {\n            setSavePosts(res.data.savePosts)\n            setResult(res.data.result)\n            setLoad(false)\n        })\n        .catch(err => {\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n        })\n\n        return () => setSavePosts([])\n    },[auth.token, dispatch])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token)\n        setSavePosts(res.data.savePosts)\n        setResult(res.data.result)\n        setPage(page + 1)\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            <PostThumb posts={savePosts} result={result} />\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={result} page={page}\n            load={load} handleLoadMore={handleLoadMore} />\n            \n        </div>\n    )\n}\n\nexport default Saved\n","import React, { useEffect, useState } from 'react'\n\nimport Info from '../../components/profile/Info'\nimport Posts from '../../components/profile/Posts'\nimport Saved from '../../components/profile/Saved'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport LoadIcon from '../../images/loading.gif'\nimport { getProfileUsers } from '../../redux/actions/profileAction'\nimport { useParams } from 'react-router-dom'\n\n\nconst Profile = () => {\n    const { profile, auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const { id } = useParams()\n    const [saveTab, setSaveTab] = useState(false)\n\n    useEffect(() => {\n        if(profile.ids.every(item => item !== id)){\n            dispatch(getProfileUsers({id, auth}))\n        }\n    },[id, auth, dispatch, profile.ids])\n\n    return (\n        <div className=\"profile\">\n            \n            <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\n\n            {\n                auth.user._id === id &&\n                <div className=\"profile_tab\">\n                    <button className={saveTab ? '' : 'active'} onClick={() => setSaveTab(false)}>Posts</button>\n                    <button className={saveTab ? 'active' : ''} onClick={() => setSaveTab(true)}>Saved</button>\n                </div>\n            }\n\n            {\n                profile.loading \n                ? <img className=\"d-block mx-auto\" src={LoadIcon} alt=\"loading\" />\n                : <>\n                    {\n                        saveTab\n                        ? <Saved auth={auth} dispatch={dispatch} />\n                        : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\n                    }\n                </>\n            }\n            \n        </div>\n    )\n}\n\nexport default Profile\n","import React from 'react'\n\nconst Times = ({total}) => {\n    return (\n        <div>\n            <span>\n                {\n                    (parseInt(total/3600)).toString().length < 2\n                    ? '0' + (parseInt(total/3600))\n                    : (parseInt(total/3600))\n                }\n            </span>\n            <span>:</span>\n\n            <span>\n                {\n                    (parseInt(total/60)).toString().length < 2\n                    ? '0' + (parseInt(total/60))\n                    : (parseInt(total/60))\n                }\n            </span>\n            <span>:</span>\n\n            <span>\n                {\n                    (total%60).toString().length < 2\n                    ? '0' + (total%60) + 's'\n                    : (total%60) + 's'\n                }\n            </span>\n        </div>\n    )\n}\n\nexport default Times\n","import React from 'react'\nimport Avatar from '../Avatar'\nimport { imageShow, videoShow } from '../../utils/mediaShow'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { deleteMessages } from '../../redux/actions/messageAction'\nimport Times from './Times'\n\nconst MsgDisplay = ({user, msg, theme, data}) => {\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleDeleteMessages = () => {\n        if(!data) return;\n        \n        if(window.confirm('Do you want to delete?')){\n            dispatch(deleteMessages({msg, data, auth}))\n        }\n    }\n\n    return (\n        <>\n            <div className=\"chat_title\">\n                <Avatar src={user.avatar} size=\"small-avatar\" />\n                <span>{user.username}</span>\n            </div>\n\n            <div className=\"you_content\">\n                { \n                    user._id === auth.user._id && \n                    <i className=\"fas fa-trash text-danger\"\n                    onClick={handleDeleteMessages} />\n                }\n\n                <div>\n                    {\n                        msg.text && \n                        <div className=\"chat_text\"\n                        style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\n                            {msg.text}\n                        </div>\n                    }\n                    {\n                        msg.media.map((item, index) => (\n                            <div key={index}>\n                                {\n                                    item.url.match(/video/i)\n                                    ? videoShow(item.url, theme)\n                                    : imageShow(item.url, theme)\n                                }\n                            </div>\n                        ))\n                    }\n                </div>\n            \n                {\n                    msg.call &&\n                    <button className=\"btn d-flex align-items-center py-3\"\n                    style={{background: '#eee', borderRadius: '10px'}}>\n\n                        <span className=\"material-icons font-weight-bold mr-1\"\n                        style={{ \n                            fontSize: '2.5rem', color: msg.call.times === 0 ? 'crimson' : 'green',\n                            filter: theme ? 'invert(1)' : 'invert(0)'\n                        }}>\n                            {\n                                msg.call.times === 0\n                                ? msg.call.video ? 'videocam_off' : 'phone_disabled'\n                                : msg.call.video ? 'video_camera_front' : 'call'\n                            }\n                        </span>\n\n                        <div className=\"text-left\">\n                            <h6>{msg.call.video ? 'Video Call' : 'Audio Call'}</h6>\n                            <small>\n                                {\n                                    msg.call.times > 0 \n                                    ? <Times total={msg.call.times} />\n                                    : new Date(msg.createdAt).toLocaleTimeString()\n                                }\n                            </small>\n                        </div>\n\n                    </button>\n                }\n            \n            </div>\n\n            <div className=\"chat_time\">\n                {new Date(msg.createdAt).toLocaleString()}\n            </div>\n        </>\n    )\n}\n\nexport default MsgDisplay\n","import React, { useState, useEffect, useRef } from 'react'\nimport UserCard from '../UserCard'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\nimport MsgDisplay from './MsgDisplay'\nimport Icons from '../Icons'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { imageShow, videoShow } from '../../utils/mediaShow'\nimport { imageUpload } from '../../utils/imageUpload'\nimport { addMessage, getMessages, loadMoreMessages, deleteConversation } from '../../redux/actions/messageAction'\nimport LoadIcon from '../../images/loading.gif'\n\nconst RightSide = () => {\n    const { auth, message, theme, socket, peer } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const { id } = useParams()\n    const [user, setUser] = useState([])\n    const [text, setText] = useState('')\n    const [media, setMedia] = useState([])\n    const [loadMedia, setLoadMedia] = useState(false)\n\n    const refDisplay = useRef()\n    const pageEnd = useRef()\n\n    const [data, setData] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(0)\n    const [isLoadMore, setIsLoadMore] = useState(0)\n\n    const history = useHistory()\n\n    useEffect(() => {\n        const newData = message.data.find(item => item._id === id)\n        if(newData){\n            setData(newData.messages)\n            setResult(newData.result)\n            setPage(newData.page)\n        }\n    },[message.data, id])\n\n    useEffect(() => {\n        if(id && message.users.length > 0){\n            setTimeout(() => {\n                refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\n            },50)\n\n            const newUser = message.users.find(user => user._id === id)\n            if(newUser) setUser(newUser)\n        }\n    }, [message.users, id])\n\n    const handleChangeMedia = (e) => {\n        const files = [...e.target.files]\n        let err = \"\"\n        let newMedia = []\n\n        files.forEach(file => {\n            if(!file) return err = \"File does not exist.\"\n\n            if(file.size > 1024 * 1024 * 5){\n                return err = \"The image/video largest is 5mb.\"\n            }\n\n            return newMedia.push(file)\n        })\n\n        if(err) dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err} })\n        setMedia([...media, ...newMedia])\n    }\n\n    const handleDeleteMedia = (index) => {\n        const newArr = [...media]\n        newArr.splice(index, 1)\n        setMedia(newArr)\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        if(!text.trim() && media.length === 0) return;\n        setText('')\n        setMedia([])\n        setLoadMedia(true)\n\n        let newArr = [];\n        if(media.length > 0) newArr = await imageUpload(media)\n\n        const msg = {\n            sender: auth.user._id,\n            recipient: id,\n            text, \n            media: newArr,\n            createdAt: new Date().toISOString()\n        }\n\n        setLoadMedia(false)\n        await dispatch(addMessage({msg, auth, socket}))\n        if(refDisplay.current){\n            refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\n        }\n    }\n\n    useEffect(() => {\n        const getMessagesData = async () => {\n            if(message.data.every(item => item._id !== id)){\n                await dispatch(getMessages({auth, id}))\n                setTimeout(() => {\n                    refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\n                },50)\n            }\n        }\n        getMessagesData()\n    },[id, dispatch, auth, message.data])\n\n\n    // Load More\n    useEffect(() => {\n        const observer = new IntersectionObserver(entries => {\n            if(entries[0].isIntersecting){\n                setIsLoadMore(p => p + 1)\n            }\n        },{\n            threshold: 0.1\n        })\n\n        observer.observe(pageEnd.current)\n    },[setIsLoadMore])\n\n    useEffect(() => {\n        if(isLoadMore > 1){\n            if(result >= page * 9){\n                dispatch(loadMoreMessages({auth, id, page: page + 1}))\n                setIsLoadMore(1)\n            }\n        }\n        // eslint-disable-next-line\n    },[isLoadMore])\n\n    const handleDeleteConversation = () => {\n        if(window.confirm('Do you want to delete?')){\n            dispatch(deleteConversation({auth, id}))\n            return history.push('/message')\n        }\n    }\n\n    // Call\n    const caller = ({video}) => {\n        const { _id, avatar, username, fullname } = user\n\n        const msg = {\n            sender: auth.user._id,\n            recipient: _id, \n            avatar, username, fullname, video\n        }\n        dispatch({ type: GLOBALTYPES.CALL, payload: msg })\n    }\n\n    const callUser = ({video}) => {\n        const { _id, avatar, username, fullname } = auth.user\n\n        const msg = {\n            sender: _id,\n            recipient: user._id, \n            avatar, username, fullname, video\n        }\n\n        if(peer.open) msg.peerId = peer._id\n\n        socket.emit('callUser', msg)\n    }\n\n    const handleAudioCall = () => {\n        caller({video: false})\n        callUser({video: false})\n    }\n    \n    const handleVideoCall = () => {\n        caller({video: true})\n        callUser({video: true})\n    }\n\n    return (\n        <>\n            <div className=\"message_header\" style={{cursor: 'pointer'}} >\n                {\n                    user.length !== 0 &&\n                    <UserCard user={user}>\n                        <div>\n                            <i className=\"fas fa-phone-alt\"\n                            onClick={handleAudioCall} />\n\n                            <i className=\"fas fa-video mx-3\"\n                            onClick={handleVideoCall} />\n\n                            <i className=\"fas fa-trash text-danger\"\n                            onClick={handleDeleteConversation} />\n                        </div>\n                    </UserCard>\n                }\n            </div>\n\n            <div className=\"chat_container\" \n            style={{height: media.length > 0 ? 'calc(100% - 180px)' : ''}} >\n                <div className=\"chat_display\" ref={refDisplay}>\n                    <button style={{marginTop: '-25px', opacity: 0}} ref={pageEnd}>\n                        Load more\n                    </button>\n\n                    {\n                        data.map((msg, index) => (\n                                <div key={index}>\n                                    {\n                                        msg.sender !== auth.user._id &&\n                                        <div className=\"chat_row other_message\">\n                                            <MsgDisplay user={user} msg={msg} theme={theme} />\n                                        </div>\n                                    }\n\n                                    {\n                                        msg.sender === auth.user._id &&\n                                        <div className=\"chat_row you_message\">\n                                            <MsgDisplay user={auth.user} msg={msg} theme={theme} data={data} />\n                                        </div>\n                                    }\n                                </div>\n                        ))\n                    }\n                    \n\n                   {\n                       loadMedia && \n                       <div className=\"chat_row you_message\">\n                           <img src={LoadIcon} alt=\"loading\"/>\n                       </div>\n                   }\n\n                </div>\n            </div>\n\n            <div className=\"show_media\" style={{display: media.length > 0 ? 'grid' : 'none'}} >\n                {\n                    media.map((item, index) => (\n                        <div key={index} id=\"file_media\">\n                            {\n                                item.type.match(/video/i)\n                                ? videoShow(URL.createObjectURL(item), theme)\n                                : imageShow(URL.createObjectURL(item), theme)\n                            }\n                            <span onClick={() => handleDeleteMedia(index)} >&times;</span>\n                        </div>\n                    ))\n                }\n            </div>\n\n            <form className=\"chat_input\" onSubmit={handleSubmit} >\n                <input type=\"text\" placeholder=\"Enter you message...\"\n                value={text} onChange={e => setText(e.target.value)}\n                style={{\n                    filter: theme ? 'invert(1)' : 'invert(0)',\n                    background: theme ? '#040404' : '',\n                    color: theme ? 'white' : ''\n                }} />\n\n                <Icons setContent={setText} content={text} theme={theme} />\n\n                <div className=\"file_upload\">\n                    <i className=\"fas fa-image text-danger\" />\n                    <input type=\"file\" name=\"file\" id=\"file\"\n                    multiple accept=\"image/*,video/*\" onChange={handleChangeMedia} />\n                </div>\n\n                <button type=\"submit\" className=\"material-icons\" \n                disabled={(text || media.length > 0) ? false : true}>\n                    near_me\n                </button>\n            </form>\n        </>\n    )\n}\n\nexport default RightSide\n","import React from 'react'\nimport LeftSide from '../../components/message/LeftSide'\nimport RightSide from '../../components/message/RightSide'\n\nconst Conversation = () => {\n    return (\n        <div className=\"message d-flex\">\n            <div className=\"col-md-4 border-right px-0 left_mess\">\n                <LeftSide />\n            </div>\n\n            <div className=\"col-md-8 px-0\">\n                <RightSide />\n            </div>\n        </div>\n    )\n}\n\nexport default Conversation\n","var map = {\n\t\"./discover\": 58,\n\t\"./discover.js\": 58,\n\t\"./home\": 47,\n\t\"./home.js\": 47,\n\t\"./login\": 45,\n\t\"./login.js\": 45,\n\t\"./message\": 41,\n\t\"./message/\": 41,\n\t\"./message/[id]\": 81,\n\t\"./message/[id].js\": 81,\n\t\"./message/index\": 41,\n\t\"./message/index.js\": 41,\n\t\"./post/[id]\": 68,\n\t\"./post/[id].js\": 68,\n\t\"./profile/[id]\": 80,\n\t\"./profile/[id].js\": 80,\n\t\"./register\": 46,\n\t\"./register.js\": 46\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 96;"],"sourceRoot":""}